{"version":3,"sources":["webpack://lorisjs.imaging_uploader.[name]/webpack/bootstrap","webpack://lorisjs.imaging_uploader.[name]/./project/modules/imaging_uploader/jsx/ImagingUploader.js","webpack://lorisjs.imaging_uploader.[name]/external \"React\"","webpack://lorisjs.imaging_uploader.[name]/./node_modules/prop-types/index.js","webpack://lorisjs.imaging_uploader.[name]/./node_modules/react-is/index.js","webpack://lorisjs.imaging_uploader.[name]/./node_modules/react-is/cjs/react-is.development.js","webpack://lorisjs.imaging_uploader.[name]/./node_modules/prop-types/factoryWithTypeCheckers.js","webpack://lorisjs.imaging_uploader.[name]/./node_modules/object-assign/index.js","webpack://lorisjs.imaging_uploader.[name]/./node_modules/prop-types/lib/ReactPropTypesSecret.js","webpack://lorisjs.imaging_uploader.[name]/./node_modules/prop-types/checkPropTypes.js","webpack://lorisjs.imaging_uploader.[name]/./jsx/FilterForm.js","webpack://lorisjs.imaging_uploader.[name]/./jsx/Panel.js","webpack://lorisjs.imaging_uploader.[name]/./jsx/Tabs.js","webpack://lorisjs.imaging_uploader.[name]/./jsx/Loader.js","webpack://lorisjs.imaging_uploader.[name]/./project/modules/imaging_uploader/jsx/LogPanel.js","webpack://lorisjs.imaging_uploader.[name]/./project/modules/imaging_uploader/jsx/UploadForm.js","webpack://lorisjs.imaging_uploader.[name]/./jsx/ProgressBar.js"],"names":["ImagingUploader","props","loris","hiddenHeaders","state","isLoaded","filter","setFilterRef","element","fetchData","bind","updateFilter","resetFilters","formatColumn","$","ajax","DataURL","method","dataType","success","data","setState","error","console","clearFilter","column","cell","rowData","rowHeaders","indexOf","row","forEach","header","index","cellStyle","whiteSpace","color","created","inserted","url","BaseURL","SessionID","violatedScans","numViolatedScans","patientName","PatientName","openViolatedScans","e","loadFilteredMenuClickHandler","tabList","id","label","form","candID","pSCID","visitLabel","Data","Headers","mriList","maxUploadSize","imagingUploaderAutoLaunch","Component","propTypes","PropTypes","string","isRequired","FilterForm","getFormChildren","setFilter","onElementUpdate","queryString","QueryString","get","Object","keys","key","filterKey","value","exactMatch","onUpdate","clear","Module","formChildren","React","Children","children","child","isValidElement","type","onUserInput","callbackFunc","callbackName","name","elementName","displayName","queryFieldName","filterValue","push","cloneElement","JSON","parse","stringify","length","fieldName","fieldValue","set","formElements","height","title","defaultProps","warn","object","func","Panel","collapsed","initCollapsed","panelClass","toggleCollapsed","glyphClass","panelHeading","cursor","panelSize","style","Tabs","hash","window","location","activeTab","updateURL","substr","defaultTab","tabs","handleClick","getTabs","getTabPanes","tabId","onTabChange","scrollDistance","scrollTop","target","map","tab","tabClass","href","tabID","tabPanes","tabStyle","marginLeft","marginBottom","array","bool","VerticalTabs","TabPane","classList","TabId","Title","Loader","width","parseInt","size","LogPanel","logText","logType","initHelper","onLogTypeChange","setServerPolling","monitorProgress","uploadProgress","UploadProgress","on","event","getUploadRow","css","currentTarget","setUploadRow","setProgressFromServer","summary","uploadId","getUploadId","post","getProgressText","getPipelineStatus","PIPELINE_STATUS_RUNNING","poll","getSummaryInterval","setInterval","dotUpdateInterval","updateDots","animatedCharInterval","updateAnimatedCharIndex","clearInterval","logTypes","detailed","UploadForm","formData","hasError","errorMessage","onFormChange","submitForm","uploadFile","imagingUploadType","field","assign","mriFile","replace","ids","split","splice","join","fileName","properExt","RegExp","match","swal","text","confirmButtonText","undefined","find","status","showCancelButton","cancelButtonText","isConfirm","overwriteFile","formObj","FormData","append","cache","contentType","processData","xhr","XMLHttpRequest","upload","addEventListener","evt","lengthComputable","percentage","Math","round","loaded","total","i","hasOwnProperty","textStatus","errorThrown","messageToPrint","responseJSON","errors","toString","btnClass","notes","options","ProgressBar","progressStyle","display","backgroundColor","position","labelStyle","top","left","zIndex","textAlign","lineHeight","fontWeight","number"],"mappings":"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AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;AACA,CAAC;;AAED;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gDAAgD;;AAEhD;AACA;AACA;AACA,iDAAiD;;AAEjD;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;;;;;;;;ACpLA;AACA;AACA;AACA;AACA;AACA;;AAEa;;AAEb,cAAc,mBAAO,CAAC,CAAU;AAChC,aAAa,mBAAO,CAAC,CAAe;;AAEpC,2BAA2B,mBAAO,CAAC,CAA4B;AAC/D,qBAAqB,mBAAO,CAAC,CAAkB;;AAE/C;AACA;;AAEA,IAAI,IAAqC;AACzC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA,0CAA0C;;AAE1C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa,QAAQ;AACrB,cAAc;AACd;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAU;AACV,6BAA6B;AAC7B,QAAQ;AACR;AACA;AACA;AACA;AACA,+BAA+B,KAAK;AACpC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT,4BAA4B;AAC5B,OAAO;AACP;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,QAAQ,IAAqC;AAC7C;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS,UAAU,KAAqC;AACxD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qBAAqB,sBAAsB;AAC3C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,UAAU,IAAqC;AAC/C;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,qBAAqB,2BAA2B;AAChD;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,MAAM,KAAqC,4FAA4F,SAAM;AAC7I;AACA;;AAEA,mBAAmB,gCAAgC;AACnD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,qBAAqB,gCAAgC;AACrD;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,6BAA6B;AAC7B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW;AACX;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;;;;;;;AC9kBA;AACA;AACA;AACA;AACA;;AAEa;AACb;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA,gCAAgC;AAChC;AACA;AACA;AACA;;AAEA;AACA;AACA,iBAAiB,QAAQ;AACzB;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,GAAG;AACH,kCAAkC;AAClC;AACA;AACA;;AAEA;AACA,EAAE;AACF;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA,gBAAgB,sBAAsB;AACtC;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,kBAAkB,oBAAoB;AACtC;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;;;;;;;ACzFA;AACA;AACA;AACA;AACA;AACA;;AAEa;;AAEb;;AAEA;;;;;;;;ACXA;AACA;AACA;AACA;AACA;AACA;;AAEa;;AAEb;;AAEA,IAAI,IAAqC;AACzC,6BAA6B,mBAAO,CAAC,CAA4B;AACjE;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;;AAEA;AACA;AACA;AACA;AACA,WAAW,OAAO;AAClB,WAAW,OAAO;AAClB,WAAW,OAAO;AAClB,WAAW,OAAO;AAClB,WAAW,UAAU;AACrB;AACA;AACA;AACA,MAAM,IAAqC;AAC3C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,4GAA4G;AAC5G;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA,2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","file":"ImagingUploader.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 0);\n","import React, {Component} from 'react';\nimport PropTypes from 'prop-types';\nimport FilterForm from 'FilterForm';\nimport {Tabs, TabPane} from 'Tabs';\nimport Loader from 'Loader';\n\nimport LogPanel from './LogPanel';\nimport UploadForm from './UploadForm';\n\nclass ImagingUploader extends Component {\n  constructor(props) {\n    super(props);\n    loris.hiddenHeaders = ['PatientName', 'SessionID'];\n\n    this.state = {\n      isLoaded: false,\n      filter: {},\n    };\n\n    /**\n     * Set filter to the element's ref for filtering\n     */\n    this.filter = null;\n    this.setFilterRef = (element) => {\n      this.filter = element;\n    };\n\n    /**\n     * Bind component instance to custom methods\n     */\n    this.fetchData = this.fetchData.bind(this);\n    this.updateFilter = this.updateFilter.bind(this);\n    this.resetFilters = this.resetFilters.bind(this);\n    this.formatColumn = this.formatColumn.bind(this);\n  }\n\n  componentDidMount() {\n    this.fetchData();\n  }\n\n  /**\n   * Retrive data from the provided URL and save it in state\n   * Additionaly add hiddenHeaders to global loris vairable\n   * for easy access by columnFormatter.\n   */\n  fetchData() {\n    $.ajax(this.props.DataURL, {\n      method: 'GET',\n      dataType: 'json',\n      success: (data) => {\n        this.setState({\n          data: data,\n          isLoaded: true,\n        });\n      },\n      error: function(error) {\n        console.error(error);\n      },\n    });\n  }\n\n  /**\n   * Set this.state.filter to the input filter object\n   *\n   * @param {object} filter = the filter object\n   */\n  updateFilter(filter) {\n    this.setState({filter});\n  }\n\n  // TODO: deprecate clearing filters via refs in future refactoring.\n  /**\n   * Reset the filter elements with textInput refs to empty values\n   */\n  resetFilters() {\n    this.filter.clearFilter();\n  }\n\n  /**\n   * Modify behaviour of specified column cells in the Data Table component\n   *\n   * @param {string} column - column name\n   * @param {string} cell - cell content\n   * @param {array} rowData - array of cell contents for a specific row\n   * @param {array} rowHeaders - array of table headers (column names)\n   *\n   * @return {*} a formatted table cell for a given column\n   */\n  formatColumn(column, cell, rowData, rowHeaders) {\n    // If a column if set as hidden, don't display it\n    if (loris.hiddenHeaders.indexOf(column) > -1) {\n      return null;\n    }\n\n    // Create the mapping between rowHeaders and rowData in a row object.\n    let row = {};\n    rowHeaders.forEach((header, index) => {\n      row[header] = rowData[index];\n    }, this);\n\n    // Default cell style\n    const cellStyle = {whiteSpace: 'nowrap'};\n\n    if (column === 'Progress') {\n      if (cell === 'Failure') {\n        cellStyle.color = '#fff';\n        return (\n          <td className=\"label-danger\" style={cellStyle}>\n            {cell}\n          </td>\n        );\n      }\n\n      if (cell === 'In Progress...') {\n        cellStyle.color = '#fff';\n        return (\n          <td className=\"label-warning\" style={cellStyle}>\n            {cell}\n          </td>\n        );\n      }\n\n      if (cell === 'Success') {\n        const created = row['Number Of MINC Created'];\n        const inserted = row['Number Of MINC Inserted'];\n        return (\n          <td style={cellStyle}>\n          {cell} ({inserted} out of {created})\n          </td>\n        );\n      }\n\n      // cell == 'Not started'\n      return (\n          <td style={cellStyle}>{cell}</td>\n      );\n    }\n\n    if (column === 'Tarchive Info') {\n      if (!cell || cell === '0') {\n        return (<td></td>);\n      }\n      const url = loris.BaseURL\n                  + '/dicom_archive/viewDetails/?tarchiveID='\n                  + cell;\n      return (\n        <td style={cellStyle}>\n          <a href={url}>View details</a>\n        </td>\n      );\n    }\n\n    if (column === 'Number Of MINC Inserted') {\n      if (cell > 0) {\n        const url = loris.BaseURL\n                    + '/imaging_browser/viewSession/?sessionID='\n                    + row.SessionID;\n        return (\n          <td style={cellStyle}>\n            <a href={url}>{cell}</a>\n          </td>\n        );\n      }\n    }\n\n    if (column === 'Number Of MINC Created') {\n      let violatedScans;\n      if (row['Number Of MINC Created'] - row['Number Of MINC Inserted'] > 0) {\n        let numViolatedScans =\n             row['Number Of MINC Created'] - row['Number Of MINC Inserted'];\n\n        let patientName = row.PatientName;\n        violatedScans = <a onClick={this.openViolatedScans.bind(null, patientName)}>\n           ({numViolatedScans} violated scans)\n         </a>;\n      }\n\n      return (\n        <td style={cellStyle}>\n          {cell}\n          &nbsp;\n          {violatedScans}\n        </td>\n      );\n    }\n\n    return (<td style={cellStyle}>{cell}</td>);\n  }\n\n  /**\n   * Opens MRI Violations for when there are violated scans\n   *\n   * @param {string} patientName - Patient name of the form PSCID_DCCID_VisitLabel\n   * @param {object} e - event info\n   */\n  openViolatedScans(patientName, e) {\n    loris.loadFilteredMenuClickHandler('mri_violations/', {\n      PatientName: patientName,\n    })(e);\n  }\n\n  render() {\n    if (!this.state.isLoaded) {\n      return <Loader/>;\n    }\n\n    const tabList = [\n      {id: 'browse', label: 'Browse'},\n      {id: 'upload', label: 'Upload'},\n    ];\n\n    return (\n      <Tabs tabs={tabList} defaultTab='browse' updateURL={true}>\n        <TabPane TabId={tabList[0].id}>\n          <div className='row'>\n            <div className='col-md-5'>\n              <FilterForm\n                Module='imaging_uploader'\n                name='imaging_filter'\n                id='imaging_filter'\n                ref={this.setFilterRef}\n                onUpdate={this.updateFilter}\n                filter={this.state.filter}\n              >\n                <TextboxElement {... this.state.data.form.candID} />\n                <TextboxElement {... this.state.data.form.pSCID} />\n                <SelectElement {... this.state.data.form.visitLabel} />\n                <ButtonElement type='reset' label='Clear Filters' onUserInput={this.resetFilters}/>\n              </FilterForm>\n            </div>\n            <div className='col-md-7'>\n              <LogPanel />\n            </div>\n          </div>\n          <div id='mri_upload_table'>\n            <StaticDataTable\n              Data={this.state.data.Data}\n              Headers={this.state.data.Headers}\n              getFormattedCell={this.formatColumn}\n              Filter={this.state.filter}\n              hiddenHeaders={this.state.hiddenHeaders}\n            />\n          </div>\n        </TabPane>\n        <TabPane TabId={tabList[1].id}>\n          <UploadForm\n            form={this.state.data.form}\n            mriList={this.state.data.mriList}\n            maxUploadSize={this.state.data.maxUploadSize}\n            imagingUploaderAutoLaunch={this.state.data.imagingUploaderAutoLaunch}\n          />\n        </TabPane>\n      </Tabs>\n    );\n  }\n}\n\nImagingUploader.propTypes = {\n  DataURL: PropTypes.string.isRequired,\n};\n\nexport default ImagingUploader;\n","(function() { module.exports = window[\"React\"]; }());","/**\n * Copyright (c) 2013-present, Facebook, Inc.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\nif (process.env.NODE_ENV !== 'production') {\n  var ReactIs = require('react-is');\n\n  // By explicitly using `prop-types` you are opting into new development behavior.\n  // http://fb.me/prop-types-in-prod\n  var throwOnDirectAccess = true;\n  module.exports = require('./factoryWithTypeCheckers')(ReactIs.isElement, throwOnDirectAccess);\n} else {\n  // By explicitly using `prop-types` you are opting into new production behavior.\n  // http://fb.me/prop-types-in-prod\n  module.exports = require('./factoryWithThrowingShims')();\n}\n","'use strict';\n\nif (process.env.NODE_ENV === 'production') {\n  module.exports = require('./cjs/react-is.production.min.js');\n} else {\n  module.exports = require('./cjs/react-is.development.js');\n}\n","/** @license React v16.13.1\n * react-is.development.js\n *\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\n'use strict';\n\n\n\nif (process.env.NODE_ENV !== \"production\") {\n  (function() {\n'use strict';\n\n// The Symbol used to tag the ReactElement-like types. If there is no native Symbol\n// nor polyfill, then a plain number is used for performance.\nvar hasSymbol = typeof Symbol === 'function' && Symbol.for;\nvar REACT_ELEMENT_TYPE = hasSymbol ? Symbol.for('react.element') : 0xeac7;\nvar REACT_PORTAL_TYPE = hasSymbol ? Symbol.for('react.portal') : 0xeaca;\nvar REACT_FRAGMENT_TYPE = hasSymbol ? Symbol.for('react.fragment') : 0xeacb;\nvar REACT_STRICT_MODE_TYPE = hasSymbol ? Symbol.for('react.strict_mode') : 0xeacc;\nvar REACT_PROFILER_TYPE = hasSymbol ? Symbol.for('react.profiler') : 0xead2;\nvar REACT_PROVIDER_TYPE = hasSymbol ? Symbol.for('react.provider') : 0xeacd;\nvar REACT_CONTEXT_TYPE = hasSymbol ? Symbol.for('react.context') : 0xeace; // TODO: We don't use AsyncMode or ConcurrentMode anymore. They were temporary\n// (unstable) APIs that have been removed. Can we remove the symbols?\n\nvar REACT_ASYNC_MODE_TYPE = hasSymbol ? Symbol.for('react.async_mode') : 0xeacf;\nvar REACT_CONCURRENT_MODE_TYPE = hasSymbol ? Symbol.for('react.concurrent_mode') : 0xeacf;\nvar REACT_FORWARD_REF_TYPE = hasSymbol ? Symbol.for('react.forward_ref') : 0xead0;\nvar REACT_SUSPENSE_TYPE = hasSymbol ? Symbol.for('react.suspense') : 0xead1;\nvar REACT_SUSPENSE_LIST_TYPE = hasSymbol ? Symbol.for('react.suspense_list') : 0xead8;\nvar REACT_MEMO_TYPE = hasSymbol ? Symbol.for('react.memo') : 0xead3;\nvar REACT_LAZY_TYPE = hasSymbol ? Symbol.for('react.lazy') : 0xead4;\nvar REACT_BLOCK_TYPE = hasSymbol ? Symbol.for('react.block') : 0xead9;\nvar REACT_FUNDAMENTAL_TYPE = hasSymbol ? Symbol.for('react.fundamental') : 0xead5;\nvar REACT_RESPONDER_TYPE = hasSymbol ? Symbol.for('react.responder') : 0xead6;\nvar REACT_SCOPE_TYPE = hasSymbol ? Symbol.for('react.scope') : 0xead7;\n\nfunction isValidElementType(type) {\n  return typeof type === 'string' || typeof type === 'function' || // Note: its typeof might be other than 'symbol' or 'number' if it's a polyfill.\n  type === REACT_FRAGMENT_TYPE || type === REACT_CONCURRENT_MODE_TYPE || type === REACT_PROFILER_TYPE || type === REACT_STRICT_MODE_TYPE || type === REACT_SUSPENSE_TYPE || type === REACT_SUSPENSE_LIST_TYPE || typeof type === 'object' && type !== null && (type.$$typeof === REACT_LAZY_TYPE || type.$$typeof === REACT_MEMO_TYPE || type.$$typeof === REACT_PROVIDER_TYPE || type.$$typeof === REACT_CONTEXT_TYPE || type.$$typeof === REACT_FORWARD_REF_TYPE || type.$$typeof === REACT_FUNDAMENTAL_TYPE || type.$$typeof === REACT_RESPONDER_TYPE || type.$$typeof === REACT_SCOPE_TYPE || type.$$typeof === REACT_BLOCK_TYPE);\n}\n\nfunction typeOf(object) {\n  if (typeof object === 'object' && object !== null) {\n    var $$typeof = object.$$typeof;\n\n    switch ($$typeof) {\n      case REACT_ELEMENT_TYPE:\n        var type = object.type;\n\n        switch (type) {\n          case REACT_ASYNC_MODE_TYPE:\n          case REACT_CONCURRENT_MODE_TYPE:\n          case REACT_FRAGMENT_TYPE:\n          case REACT_PROFILER_TYPE:\n          case REACT_STRICT_MODE_TYPE:\n          case REACT_SUSPENSE_TYPE:\n            return type;\n\n          default:\n            var $$typeofType = type && type.$$typeof;\n\n            switch ($$typeofType) {\n              case REACT_CONTEXT_TYPE:\n              case REACT_FORWARD_REF_TYPE:\n              case REACT_LAZY_TYPE:\n              case REACT_MEMO_TYPE:\n              case REACT_PROVIDER_TYPE:\n                return $$typeofType;\n\n              default:\n                return $$typeof;\n            }\n\n        }\n\n      case REACT_PORTAL_TYPE:\n        return $$typeof;\n    }\n  }\n\n  return undefined;\n} // AsyncMode is deprecated along with isAsyncMode\n\nvar AsyncMode = REACT_ASYNC_MODE_TYPE;\nvar ConcurrentMode = REACT_CONCURRENT_MODE_TYPE;\nvar ContextConsumer = REACT_CONTEXT_TYPE;\nvar ContextProvider = REACT_PROVIDER_TYPE;\nvar Element = REACT_ELEMENT_TYPE;\nvar ForwardRef = REACT_FORWARD_REF_TYPE;\nvar Fragment = REACT_FRAGMENT_TYPE;\nvar Lazy = REACT_LAZY_TYPE;\nvar Memo = REACT_MEMO_TYPE;\nvar Portal = REACT_PORTAL_TYPE;\nvar Profiler = REACT_PROFILER_TYPE;\nvar StrictMode = REACT_STRICT_MODE_TYPE;\nvar Suspense = REACT_SUSPENSE_TYPE;\nvar hasWarnedAboutDeprecatedIsAsyncMode = false; // AsyncMode should be deprecated\n\nfunction isAsyncMode(object) {\n  {\n    if (!hasWarnedAboutDeprecatedIsAsyncMode) {\n      hasWarnedAboutDeprecatedIsAsyncMode = true; // Using console['warn'] to evade Babel and ESLint\n\n      console['warn']('The ReactIs.isAsyncMode() alias has been deprecated, ' + 'and will be removed in React 17+. Update your code to use ' + 'ReactIs.isConcurrentMode() instead. It has the exact same API.');\n    }\n  }\n\n  return isConcurrentMode(object) || typeOf(object) === REACT_ASYNC_MODE_TYPE;\n}\nfunction isConcurrentMode(object) {\n  return typeOf(object) === REACT_CONCURRENT_MODE_TYPE;\n}\nfunction isContextConsumer(object) {\n  return typeOf(object) === REACT_CONTEXT_TYPE;\n}\nfunction isContextProvider(object) {\n  return typeOf(object) === REACT_PROVIDER_TYPE;\n}\nfunction isElement(object) {\n  return typeof object === 'object' && object !== null && object.$$typeof === REACT_ELEMENT_TYPE;\n}\nfunction isForwardRef(object) {\n  return typeOf(object) === REACT_FORWARD_REF_TYPE;\n}\nfunction isFragment(object) {\n  return typeOf(object) === REACT_FRAGMENT_TYPE;\n}\nfunction isLazy(object) {\n  return typeOf(object) === REACT_LAZY_TYPE;\n}\nfunction isMemo(object) {\n  return typeOf(object) === REACT_MEMO_TYPE;\n}\nfunction isPortal(object) {\n  return typeOf(object) === REACT_PORTAL_TYPE;\n}\nfunction isProfiler(object) {\n  return typeOf(object) === REACT_PROFILER_TYPE;\n}\nfunction isStrictMode(object) {\n  return typeOf(object) === REACT_STRICT_MODE_TYPE;\n}\nfunction isSuspense(object) {\n  return typeOf(object) === REACT_SUSPENSE_TYPE;\n}\n\nexports.AsyncMode = AsyncMode;\nexports.ConcurrentMode = ConcurrentMode;\nexports.ContextConsumer = ContextConsumer;\nexports.ContextProvider = ContextProvider;\nexports.Element = Element;\nexports.ForwardRef = ForwardRef;\nexports.Fragment = Fragment;\nexports.Lazy = Lazy;\nexports.Memo = Memo;\nexports.Portal = Portal;\nexports.Profiler = Profiler;\nexports.StrictMode = StrictMode;\nexports.Suspense = Suspense;\nexports.isAsyncMode = isAsyncMode;\nexports.isConcurrentMode = isConcurrentMode;\nexports.isContextConsumer = isContextConsumer;\nexports.isContextProvider = isContextProvider;\nexports.isElement = isElement;\nexports.isForwardRef = isForwardRef;\nexports.isFragment = isFragment;\nexports.isLazy = isLazy;\nexports.isMemo = isMemo;\nexports.isPortal = isPortal;\nexports.isProfiler = isProfiler;\nexports.isStrictMode = isStrictMode;\nexports.isSuspense = isSuspense;\nexports.isValidElementType = isValidElementType;\nexports.typeOf = typeOf;\n  })();\n}\n","/**\n * Copyright (c) 2013-present, Facebook, Inc.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\n'use strict';\n\nvar ReactIs = require('react-is');\nvar assign = require('object-assign');\n\nvar ReactPropTypesSecret = require('./lib/ReactPropTypesSecret');\nvar checkPropTypes = require('./checkPropTypes');\n\nvar has = Function.call.bind(Object.prototype.hasOwnProperty);\nvar printWarning = function() {};\n\nif (process.env.NODE_ENV !== 'production') {\n  printWarning = function(text) {\n    var message = 'Warning: ' + text;\n    if (typeof console !== 'undefined') {\n      console.error(message);\n    }\n    try {\n      // --- Welcome to debugging React ---\n      // This error was thrown as a convenience so that you can use this stack\n      // to find the callsite that caused this warning to fire.\n      throw new Error(message);\n    } catch (x) {}\n  };\n}\n\nfunction emptyFunctionThatReturnsNull() {\n  return null;\n}\n\nmodule.exports = function(isValidElement, throwOnDirectAccess) {\n  /* global Symbol */\n  var ITERATOR_SYMBOL = typeof Symbol === 'function' && Symbol.iterator;\n  var FAUX_ITERATOR_SYMBOL = '@@iterator'; // Before Symbol spec.\n\n  /**\n   * Returns the iterator method function contained on the iterable object.\n   *\n   * Be sure to invoke the function with the iterable as context:\n   *\n   *     var iteratorFn = getIteratorFn(myIterable);\n   *     if (iteratorFn) {\n   *       var iterator = iteratorFn.call(myIterable);\n   *       ...\n   *     }\n   *\n   * @param {?object} maybeIterable\n   * @return {?function}\n   */\n  function getIteratorFn(maybeIterable) {\n    var iteratorFn = maybeIterable && (ITERATOR_SYMBOL && maybeIterable[ITERATOR_SYMBOL] || maybeIterable[FAUX_ITERATOR_SYMBOL]);\n    if (typeof iteratorFn === 'function') {\n      return iteratorFn;\n    }\n  }\n\n  /**\n   * Collection of methods that allow declaration and validation of props that are\n   * supplied to React components. Example usage:\n   *\n   *   var Props = require('ReactPropTypes');\n   *   var MyArticle = React.createClass({\n   *     propTypes: {\n   *       // An optional string prop named \"description\".\n   *       description: Props.string,\n   *\n   *       // A required enum prop named \"category\".\n   *       category: Props.oneOf(['News','Photos']).isRequired,\n   *\n   *       // A prop named \"dialog\" that requires an instance of Dialog.\n   *       dialog: Props.instanceOf(Dialog).isRequired\n   *     },\n   *     render: function() { ... }\n   *   });\n   *\n   * A more formal specification of how these methods are used:\n   *\n   *   type := array|bool|func|object|number|string|oneOf([...])|instanceOf(...)\n   *   decl := ReactPropTypes.{type}(.isRequired)?\n   *\n   * Each and every declaration produces a function with the same signature. This\n   * allows the creation of custom validation functions. For example:\n   *\n   *  var MyLink = React.createClass({\n   *    propTypes: {\n   *      // An optional string or URI prop named \"href\".\n   *      href: function(props, propName, componentName) {\n   *        var propValue = props[propName];\n   *        if (propValue != null && typeof propValue !== 'string' &&\n   *            !(propValue instanceof URI)) {\n   *          return new Error(\n   *            'Expected a string or an URI for ' + propName + ' in ' +\n   *            componentName\n   *          );\n   *        }\n   *      }\n   *    },\n   *    render: function() {...}\n   *  });\n   *\n   * @internal\n   */\n\n  var ANONYMOUS = '<<anonymous>>';\n\n  // Important!\n  // Keep this list in sync with production version in `./factoryWithThrowingShims.js`.\n  var ReactPropTypes = {\n    array: createPrimitiveTypeChecker('array'),\n    bool: createPrimitiveTypeChecker('boolean'),\n    func: createPrimitiveTypeChecker('function'),\n    number: createPrimitiveTypeChecker('number'),\n    object: createPrimitiveTypeChecker('object'),\n    string: createPrimitiveTypeChecker('string'),\n    symbol: createPrimitiveTypeChecker('symbol'),\n\n    any: createAnyTypeChecker(),\n    arrayOf: createArrayOfTypeChecker,\n    element: createElementTypeChecker(),\n    elementType: createElementTypeTypeChecker(),\n    instanceOf: createInstanceTypeChecker,\n    node: createNodeChecker(),\n    objectOf: createObjectOfTypeChecker,\n    oneOf: createEnumTypeChecker,\n    oneOfType: createUnionTypeChecker,\n    shape: createShapeTypeChecker,\n    exact: createStrictShapeTypeChecker,\n  };\n\n  /**\n   * inlined Object.is polyfill to avoid requiring consumers ship their own\n   * https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object/is\n   */\n  /*eslint-disable no-self-compare*/\n  function is(x, y) {\n    // SameValue algorithm\n    if (x === y) {\n      // Steps 1-5, 7-10\n      // Steps 6.b-6.e: +0 != -0\n      return x !== 0 || 1 / x === 1 / y;\n    } else {\n      // Step 6.a: NaN == NaN\n      return x !== x && y !== y;\n    }\n  }\n  /*eslint-enable no-self-compare*/\n\n  /**\n   * We use an Error-like object for backward compatibility as people may call\n   * PropTypes directly and inspect their output. However, we don't use real\n   * Errors anymore. We don't inspect their stack anyway, and creating them\n   * is prohibitively expensive if they are created too often, such as what\n   * happens in oneOfType() for any type before the one that matched.\n   */\n  function PropTypeError(message) {\n    this.message = message;\n    this.stack = '';\n  }\n  // Make `instanceof Error` still work for returned errors.\n  PropTypeError.prototype = Error.prototype;\n\n  function createChainableTypeChecker(validate) {\n    if (process.env.NODE_ENV !== 'production') {\n      var manualPropTypeCallCache = {};\n      var manualPropTypeWarningCount = 0;\n    }\n    function checkType(isRequired, props, propName, componentName, location, propFullName, secret) {\n      componentName = componentName || ANONYMOUS;\n      propFullName = propFullName || propName;\n\n      if (secret !== ReactPropTypesSecret) {\n        if (throwOnDirectAccess) {\n          // New behavior only for users of `prop-types` package\n          var err = new Error(\n            'Calling PropTypes validators directly is not supported by the `prop-types` package. ' +\n            'Use `PropTypes.checkPropTypes()` to call them. ' +\n            'Read more at http://fb.me/use-check-prop-types'\n          );\n          err.name = 'Invariant Violation';\n          throw err;\n        } else if (process.env.NODE_ENV !== 'production' && typeof console !== 'undefined') {\n          // Old behavior for people using React.PropTypes\n          var cacheKey = componentName + ':' + propName;\n          if (\n            !manualPropTypeCallCache[cacheKey] &&\n            // Avoid spamming the console because they are often not actionable except for lib authors\n            manualPropTypeWarningCount < 3\n          ) {\n            printWarning(\n              'You are manually calling a React.PropTypes validation ' +\n              'function for the `' + propFullName + '` prop on `' + componentName  + '`. This is deprecated ' +\n              'and will throw in the standalone `prop-types` package. ' +\n              'You may be seeing this warning due to a third-party PropTypes ' +\n              'library. See https://fb.me/react-warning-dont-call-proptypes ' + 'for details.'\n            );\n            manualPropTypeCallCache[cacheKey] = true;\n            manualPropTypeWarningCount++;\n          }\n        }\n      }\n      if (props[propName] == null) {\n        if (isRequired) {\n          if (props[propName] === null) {\n            return new PropTypeError('The ' + location + ' `' + propFullName + '` is marked as required ' + ('in `' + componentName + '`, but its value is `null`.'));\n          }\n          return new PropTypeError('The ' + location + ' `' + propFullName + '` is marked as required in ' + ('`' + componentName + '`, but its value is `undefined`.'));\n        }\n        return null;\n      } else {\n        return validate(props, propName, componentName, location, propFullName);\n      }\n    }\n\n    var chainedCheckType = checkType.bind(null, false);\n    chainedCheckType.isRequired = checkType.bind(null, true);\n\n    return chainedCheckType;\n  }\n\n  function createPrimitiveTypeChecker(expectedType) {\n    function validate(props, propName, componentName, location, propFullName, secret) {\n      var propValue = props[propName];\n      var propType = getPropType(propValue);\n      if (propType !== expectedType) {\n        // `propValue` being instance of, say, date/regexp, pass the 'object'\n        // check, but we can offer a more precise error message here rather than\n        // 'of type `object`'.\n        var preciseType = getPreciseType(propValue);\n\n        return new PropTypeError('Invalid ' + location + ' `' + propFullName + '` of type ' + ('`' + preciseType + '` supplied to `' + componentName + '`, expected ') + ('`' + expectedType + '`.'));\n      }\n      return null;\n    }\n    return createChainableTypeChecker(validate);\n  }\n\n  function createAnyTypeChecker() {\n    return createChainableTypeChecker(emptyFunctionThatReturnsNull);\n  }\n\n  function createArrayOfTypeChecker(typeChecker) {\n    function validate(props, propName, componentName, location, propFullName) {\n      if (typeof typeChecker !== 'function') {\n        return new PropTypeError('Property `' + propFullName + '` of component `' + componentName + '` has invalid PropType notation inside arrayOf.');\n      }\n      var propValue = props[propName];\n      if (!Array.isArray(propValue)) {\n        var propType = getPropType(propValue);\n        return new PropTypeError('Invalid ' + location + ' `' + propFullName + '` of type ' + ('`' + propType + '` supplied to `' + componentName + '`, expected an array.'));\n      }\n      for (var i = 0; i < propValue.length; i++) {\n        var error = typeChecker(propValue, i, componentName, location, propFullName + '[' + i + ']', ReactPropTypesSecret);\n        if (error instanceof Error) {\n          return error;\n        }\n      }\n      return null;\n    }\n    return createChainableTypeChecker(validate);\n  }\n\n  function createElementTypeChecker() {\n    function validate(props, propName, componentName, location, propFullName) {\n      var propValue = props[propName];\n      if (!isValidElement(propValue)) {\n        var propType = getPropType(propValue);\n        return new PropTypeError('Invalid ' + location + ' `' + propFullName + '` of type ' + ('`' + propType + '` supplied to `' + componentName + '`, expected a single ReactElement.'));\n      }\n      return null;\n    }\n    return createChainableTypeChecker(validate);\n  }\n\n  function createElementTypeTypeChecker() {\n    function validate(props, propName, componentName, location, propFullName) {\n      var propValue = props[propName];\n      if (!ReactIs.isValidElementType(propValue)) {\n        var propType = getPropType(propValue);\n        return new PropTypeError('Invalid ' + location + ' `' + propFullName + '` of type ' + ('`' + propType + '` supplied to `' + componentName + '`, expected a single ReactElement type.'));\n      }\n      return null;\n    }\n    return createChainableTypeChecker(validate);\n  }\n\n  function createInstanceTypeChecker(expectedClass) {\n    function validate(props, propName, componentName, location, propFullName) {\n      if (!(props[propName] instanceof expectedClass)) {\n        var expectedClassName = expectedClass.name || ANONYMOUS;\n        var actualClassName = getClassName(props[propName]);\n        return new PropTypeError('Invalid ' + location + ' `' + propFullName + '` of type ' + ('`' + actualClassName + '` supplied to `' + componentName + '`, expected ') + ('instance of `' + expectedClassName + '`.'));\n      }\n      return null;\n    }\n    return createChainableTypeChecker(validate);\n  }\n\n  function createEnumTypeChecker(expectedValues) {\n    if (!Array.isArray(expectedValues)) {\n      if (process.env.NODE_ENV !== 'production') {\n        if (arguments.length > 1) {\n          printWarning(\n            'Invalid arguments supplied to oneOf, expected an array, got ' + arguments.length + ' arguments. ' +\n            'A common mistake is to write oneOf(x, y, z) instead of oneOf([x, y, z]).'\n          );\n        } else {\n          printWarning('Invalid argument supplied to oneOf, expected an array.');\n        }\n      }\n      return emptyFunctionThatReturnsNull;\n    }\n\n    function validate(props, propName, componentName, location, propFullName) {\n      var propValue = props[propName];\n      for (var i = 0; i < expectedValues.length; i++) {\n        if (is(propValue, expectedValues[i])) {\n          return null;\n        }\n      }\n\n      var valuesString = JSON.stringify(expectedValues, function replacer(key, value) {\n        var type = getPreciseType(value);\n        if (type === 'symbol') {\n          return String(value);\n        }\n        return value;\n      });\n      return new PropTypeError('Invalid ' + location + ' `' + propFullName + '` of value `' + String(propValue) + '` ' + ('supplied to `' + componentName + '`, expected one of ' + valuesString + '.'));\n    }\n    return createChainableTypeChecker(validate);\n  }\n\n  function createObjectOfTypeChecker(typeChecker) {\n    function validate(props, propName, componentName, location, propFullName) {\n      if (typeof typeChecker !== 'function') {\n        return new PropTypeError('Property `' + propFullName + '` of component `' + componentName + '` has invalid PropType notation inside objectOf.');\n      }\n      var propValue = props[propName];\n      var propType = getPropType(propValue);\n      if (propType !== 'object') {\n        return new PropTypeError('Invalid ' + location + ' `' + propFullName + '` of type ' + ('`' + propType + '` supplied to `' + componentName + '`, expected an object.'));\n      }\n      for (var key in propValue) {\n        if (has(propValue, key)) {\n          var error = typeChecker(propValue, key, componentName, location, propFullName + '.' + key, ReactPropTypesSecret);\n          if (error instanceof Error) {\n            return error;\n          }\n        }\n      }\n      return null;\n    }\n    return createChainableTypeChecker(validate);\n  }\n\n  function createUnionTypeChecker(arrayOfTypeCheckers) {\n    if (!Array.isArray(arrayOfTypeCheckers)) {\n      process.env.NODE_ENV !== 'production' ? printWarning('Invalid argument supplied to oneOfType, expected an instance of array.') : void 0;\n      return emptyFunctionThatReturnsNull;\n    }\n\n    for (var i = 0; i < arrayOfTypeCheckers.length; i++) {\n      var checker = arrayOfTypeCheckers[i];\n      if (typeof checker !== 'function') {\n        printWarning(\n          'Invalid argument supplied to oneOfType. Expected an array of check functions, but ' +\n          'received ' + getPostfixForTypeWarning(checker) + ' at index ' + i + '.'\n        );\n        return emptyFunctionThatReturnsNull;\n      }\n    }\n\n    function validate(props, propName, componentName, location, propFullName) {\n      for (var i = 0; i < arrayOfTypeCheckers.length; i++) {\n        var checker = arrayOfTypeCheckers[i];\n        if (checker(props, propName, componentName, location, propFullName, ReactPropTypesSecret) == null) {\n          return null;\n        }\n      }\n\n      return new PropTypeError('Invalid ' + location + ' `' + propFullName + '` supplied to ' + ('`' + componentName + '`.'));\n    }\n    return createChainableTypeChecker(validate);\n  }\n\n  function createNodeChecker() {\n    function validate(props, propName, componentName, location, propFullName) {\n      if (!isNode(props[propName])) {\n        return new PropTypeError('Invalid ' + location + ' `' + propFullName + '` supplied to ' + ('`' + componentName + '`, expected a ReactNode.'));\n      }\n      return null;\n    }\n    return createChainableTypeChecker(validate);\n  }\n\n  function createShapeTypeChecker(shapeTypes) {\n    function validate(props, propName, componentName, location, propFullName) {\n      var propValue = props[propName];\n      var propType = getPropType(propValue);\n      if (propType !== 'object') {\n        return new PropTypeError('Invalid ' + location + ' `' + propFullName + '` of type `' + propType + '` ' + ('supplied to `' + componentName + '`, expected `object`.'));\n      }\n      for (var key in shapeTypes) {\n        var checker = shapeTypes[key];\n        if (!checker) {\n          continue;\n        }\n        var error = checker(propValue, key, componentName, location, propFullName + '.' + key, ReactPropTypesSecret);\n        if (error) {\n          return error;\n        }\n      }\n      return null;\n    }\n    return createChainableTypeChecker(validate);\n  }\n\n  function createStrictShapeTypeChecker(shapeTypes) {\n    function validate(props, propName, componentName, location, propFullName) {\n      var propValue = props[propName];\n      var propType = getPropType(propValue);\n      if (propType !== 'object') {\n        return new PropTypeError('Invalid ' + location + ' `' + propFullName + '` of type `' + propType + '` ' + ('supplied to `' + componentName + '`, expected `object`.'));\n      }\n      // We need to check all keys in case some are required but missing from\n      // props.\n      var allKeys = assign({}, props[propName], shapeTypes);\n      for (var key in allKeys) {\n        var checker = shapeTypes[key];\n        if (!checker) {\n          return new PropTypeError(\n            'Invalid ' + location + ' `' + propFullName + '` key `' + key + '` supplied to `' + componentName + '`.' +\n            '\\nBad object: ' + JSON.stringify(props[propName], null, '  ') +\n            '\\nValid keys: ' +  JSON.stringify(Object.keys(shapeTypes), null, '  ')\n          );\n        }\n        var error = checker(propValue, key, componentName, location, propFullName + '.' + key, ReactPropTypesSecret);\n        if (error) {\n          return error;\n        }\n      }\n      return null;\n    }\n\n    return createChainableTypeChecker(validate);\n  }\n\n  function isNode(propValue) {\n    switch (typeof propValue) {\n      case 'number':\n      case 'string':\n      case 'undefined':\n        return true;\n      case 'boolean':\n        return !propValue;\n      case 'object':\n        if (Array.isArray(propValue)) {\n          return propValue.every(isNode);\n        }\n        if (propValue === null || isValidElement(propValue)) {\n          return true;\n        }\n\n        var iteratorFn = getIteratorFn(propValue);\n        if (iteratorFn) {\n          var iterator = iteratorFn.call(propValue);\n          var step;\n          if (iteratorFn !== propValue.entries) {\n            while (!(step = iterator.next()).done) {\n              if (!isNode(step.value)) {\n                return false;\n              }\n            }\n          } else {\n            // Iterator will provide entry [k,v] tuples rather than values.\n            while (!(step = iterator.next()).done) {\n              var entry = step.value;\n              if (entry) {\n                if (!isNode(entry[1])) {\n                  return false;\n                }\n              }\n            }\n          }\n        } else {\n          return false;\n        }\n\n        return true;\n      default:\n        return false;\n    }\n  }\n\n  function isSymbol(propType, propValue) {\n    // Native Symbol.\n    if (propType === 'symbol') {\n      return true;\n    }\n\n    // falsy value can't be a Symbol\n    if (!propValue) {\n      return false;\n    }\n\n    // 19.4.3.5 Symbol.prototype[@@toStringTag] === 'Symbol'\n    if (propValue['@@toStringTag'] === 'Symbol') {\n      return true;\n    }\n\n    // Fallback for non-spec compliant Symbols which are polyfilled.\n    if (typeof Symbol === 'function' && propValue instanceof Symbol) {\n      return true;\n    }\n\n    return false;\n  }\n\n  // Equivalent of `typeof` but with special handling for array and regexp.\n  function getPropType(propValue) {\n    var propType = typeof propValue;\n    if (Array.isArray(propValue)) {\n      return 'array';\n    }\n    if (propValue instanceof RegExp) {\n      // Old webkits (at least until Android 4.0) return 'function' rather than\n      // 'object' for typeof a RegExp. We'll normalize this here so that /bla/\n      // passes PropTypes.object.\n      return 'object';\n    }\n    if (isSymbol(propType, propValue)) {\n      return 'symbol';\n    }\n    return propType;\n  }\n\n  // This handles more types than `getPropType`. Only used for error messages.\n  // See `createPrimitiveTypeChecker`.\n  function getPreciseType(propValue) {\n    if (typeof propValue === 'undefined' || propValue === null) {\n      return '' + propValue;\n    }\n    var propType = getPropType(propValue);\n    if (propType === 'object') {\n      if (propValue instanceof Date) {\n        return 'date';\n      } else if (propValue instanceof RegExp) {\n        return 'regexp';\n      }\n    }\n    return propType;\n  }\n\n  // Returns a string that is postfixed to a warning about an invalid type.\n  // For example, \"undefined\" or \"of type array\"\n  function getPostfixForTypeWarning(value) {\n    var type = getPreciseType(value);\n    switch (type) {\n      case 'array':\n      case 'object':\n        return 'an ' + type;\n      case 'boolean':\n      case 'date':\n      case 'regexp':\n        return 'a ' + type;\n      default:\n        return type;\n    }\n  }\n\n  // Returns class name of the object, if any.\n  function getClassName(propValue) {\n    if (!propValue.constructor || !propValue.constructor.name) {\n      return ANONYMOUS;\n    }\n    return propValue.constructor.name;\n  }\n\n  ReactPropTypes.checkPropTypes = checkPropTypes;\n  ReactPropTypes.resetWarningCache = checkPropTypes.resetWarningCache;\n  ReactPropTypes.PropTypes = ReactPropTypes;\n\n  return ReactPropTypes;\n};\n","/*\nobject-assign\n(c) Sindre Sorhus\n@license MIT\n*/\n\n'use strict';\n/* eslint-disable no-unused-vars */\nvar getOwnPropertySymbols = Object.getOwnPropertySymbols;\nvar hasOwnProperty = Object.prototype.hasOwnProperty;\nvar propIsEnumerable = Object.prototype.propertyIsEnumerable;\n\nfunction toObject(val) {\n\tif (val === null || val === undefined) {\n\t\tthrow new TypeError('Object.assign cannot be called with null or undefined');\n\t}\n\n\treturn Object(val);\n}\n\nfunction shouldUseNative() {\n\ttry {\n\t\tif (!Object.assign) {\n\t\t\treturn false;\n\t\t}\n\n\t\t// Detect buggy property enumeration order in older V8 versions.\n\n\t\t// https://bugs.chromium.org/p/v8/issues/detail?id=4118\n\t\tvar test1 = new String('abc');  // eslint-disable-line no-new-wrappers\n\t\ttest1[5] = 'de';\n\t\tif (Object.getOwnPropertyNames(test1)[0] === '5') {\n\t\t\treturn false;\n\t\t}\n\n\t\t// https://bugs.chromium.org/p/v8/issues/detail?id=3056\n\t\tvar test2 = {};\n\t\tfor (var i = 0; i < 10; i++) {\n\t\t\ttest2['_' + String.fromCharCode(i)] = i;\n\t\t}\n\t\tvar order2 = Object.getOwnPropertyNames(test2).map(function (n) {\n\t\t\treturn test2[n];\n\t\t});\n\t\tif (order2.join('') !== '0123456789') {\n\t\t\treturn false;\n\t\t}\n\n\t\t// https://bugs.chromium.org/p/v8/issues/detail?id=3056\n\t\tvar test3 = {};\n\t\t'abcdefghijklmnopqrst'.split('').forEach(function (letter) {\n\t\t\ttest3[letter] = letter;\n\t\t});\n\t\tif (Object.keys(Object.assign({}, test3)).join('') !==\n\t\t\t\t'abcdefghijklmnopqrst') {\n\t\t\treturn false;\n\t\t}\n\n\t\treturn true;\n\t} catch (err) {\n\t\t// We don't expect any of the above to throw, but better to be safe.\n\t\treturn false;\n\t}\n}\n\nmodule.exports = shouldUseNative() ? Object.assign : function (target, source) {\n\tvar from;\n\tvar to = toObject(target);\n\tvar symbols;\n\n\tfor (var s = 1; s < arguments.length; s++) {\n\t\tfrom = Object(arguments[s]);\n\n\t\tfor (var key in from) {\n\t\t\tif (hasOwnProperty.call(from, key)) {\n\t\t\t\tto[key] = from[key];\n\t\t\t}\n\t\t}\n\n\t\tif (getOwnPropertySymbols) {\n\t\t\tsymbols = getOwnPropertySymbols(from);\n\t\t\tfor (var i = 0; i < symbols.length; i++) {\n\t\t\t\tif (propIsEnumerable.call(from, symbols[i])) {\n\t\t\t\t\tto[symbols[i]] = from[symbols[i]];\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\treturn to;\n};\n","/**\n * Copyright (c) 2013-present, Facebook, Inc.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\n'use strict';\n\nvar ReactPropTypesSecret = 'SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED';\n\nmodule.exports = ReactPropTypesSecret;\n","/**\n * Copyright (c) 2013-present, Facebook, Inc.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\n'use strict';\n\nvar printWarning = function() {};\n\nif (process.env.NODE_ENV !== 'production') {\n  var ReactPropTypesSecret = require('./lib/ReactPropTypesSecret');\n  var loggedTypeFailures = {};\n  var has = Function.call.bind(Object.prototype.hasOwnProperty);\n\n  printWarning = function(text) {\n    var message = 'Warning: ' + text;\n    if (typeof console !== 'undefined') {\n      console.error(message);\n    }\n    try {\n      // --- Welcome to debugging React ---\n      // This error was thrown as a convenience so that you can use this stack\n      // to find the callsite that caused this warning to fire.\n      throw new Error(message);\n    } catch (x) {}\n  };\n}\n\n/**\n * Assert that the values match with the type specs.\n * Error messages are memorized and will only be shown once.\n *\n * @param {object} typeSpecs Map of name to a ReactPropType\n * @param {object} values Runtime values that need to be type-checked\n * @param {string} location e.g. \"prop\", \"context\", \"child context\"\n * @param {string} componentName Name of the component for error messages.\n * @param {?Function} getStack Returns the component stack.\n * @private\n */\nfunction checkPropTypes(typeSpecs, values, location, componentName, getStack) {\n  if (process.env.NODE_ENV !== 'production') {\n    for (var typeSpecName in typeSpecs) {\n      if (has(typeSpecs, typeSpecName)) {\n        var error;\n        // Prop type validation may throw. In case they do, we don't want to\n        // fail the render phase where it didn't fail before. So we log it.\n        // After these have been cleaned up, we'll let them throw.\n        try {\n          // This is intentionally an invariant that gets caught. It's the same\n          // behavior as without this statement except with a better message.\n          if (typeof typeSpecs[typeSpecName] !== 'function') {\n            var err = Error(\n              (componentName || 'React class') + ': ' + location + ' type `' + typeSpecName + '` is invalid; ' +\n              'it must be a function, usually from the `prop-types` package, but received `' + typeof typeSpecs[typeSpecName] + '`.'\n            );\n            err.name = 'Invariant Violation';\n            throw err;\n          }\n          error = typeSpecs[typeSpecName](values, typeSpecName, componentName, location, null, ReactPropTypesSecret);\n        } catch (ex) {\n          error = ex;\n        }\n        if (error && !(error instanceof Error)) {\n          printWarning(\n            (componentName || 'React class') + ': type specification of ' +\n            location + ' `' + typeSpecName + '` is invalid; the type checker ' +\n            'function must return `null` or an `Error` but returned a ' + typeof error + '. ' +\n            'You may have forgotten to pass an argument to the type checker ' +\n            'creator (arrayOf, instanceOf, objectOf, oneOf, oneOfType, and ' +\n            'shape all require an argument).'\n          );\n        }\n        if (error instanceof Error && !(error.message in loggedTypeFailures)) {\n          // Only monitor this failure once because there tends to be a lot of the\n          // same error.\n          loggedTypeFailures[error.message] = true;\n\n          var stack = getStack ? getStack() : '';\n\n          printWarning(\n            'Failed ' + location + ' type: ' + error.message + (stack != null ? stack : '')\n          );\n        }\n      }\n    }\n  }\n}\n\n/**\n * Resets warning cache when testing.\n *\n * @private\n */\ncheckPropTypes.resetWarningCache = function() {\n  if (process.env.NODE_ENV !== 'production') {\n    loggedTypeFailures = {};\n  }\n}\n\nmodule.exports = checkPropTypes;\n","/**\n * This file contains React component for FilterForm\n *\n * @author Loris Team\n * @version 1.1.0\n *\n */\nimport React, {Component} from 'react';\nimport PropTypes from 'prop-types';\nimport Panel from 'Panel';\n\n/**\n * FilterForm component.\n * A wrapper for form elements inside a selection filter.\n *\n * Adds necessary filter callbacks to all children and passes them to FormElement\n * for proper rendering.\n *\n * Keeps track of filter object and sends it to parent on every update.\n *\n * //HACK/NOTE: Loris has special behaviour for `candID` attribute in the query string,\n * making it impossible to use it for selection filters. This components renames\n * all `candID` fields to `candidateID` automatically before appending them to URL.\n *\n */\nclass FilterForm extends Component {\n  constructor(props) {\n    super(props);\n\n    // Bind component instance to custom methods\n    this.clearFilter = this.clearFilter.bind(this);\n    this.getFormChildren = this.getFormChildren.bind(this);\n    this.setFilter = this.setFilter.bind(this);\n    this.onElementUpdate = this.onElementUpdate.bind(this);\n\n    // Keeps track of querystring values\n    // Saved as class variable instead of keeping in state\n    this.queryString = QueryString.get();\n  }\n\n  componentDidMount() {\n    let filter = {};\n    let queryString = this.queryString;\n\n    // Initiaze filter using querystring value\n    Object.keys(queryString).forEach(function(key) {\n      let filterKey = (key === 'candidateID') ? 'candID' : key;\n      filter[filterKey] = {\n        value: queryString[key],\n        exactMatch: false,\n      };\n    });\n\n    // Update parent component\n    this.props.onUpdate(filter);\n  }\n\n  /**\n   * Clear the filter object, querystring and input fields\n   */\n  clearFilter() {\n    this.queryString = QueryString.clear(this.props.Module);\n    this.props.onUpdate({});\n  }\n\n  /**\n   * Iterates through FilterForm children, sets necessary callback functions\n   * and initializes filterTable\n   *\n   * @return {Array} formChildren - array of children with necessary props\n   */\n  getFormChildren() {\n    let formChildren = [];\n    React.Children.forEach(this.props.children, function(child, key) {\n      // If child is a React component (i.e not a simple DOM element)\n      if (React.isValidElement(child) &&\n        typeof child.type === 'function' &&\n        child.props.onUserInput\n      ) {\n        let callbackFunc = child.props.onUserInput;\n        let callbackName = callbackFunc.name;\n        let elementName = child.type.displayName;\n        let queryFieldName = (child.props.name === 'candID') ? 'candidateID' : child.props.name;\n        let filterValue = this.queryString[queryFieldName];\n        // If callback function was not set, set it to onElementUpdate() for form\n        // elements and to clearFilter() for <ButtonElement type='reset'/>.\n        if (callbackName === 'onUserInput') {\n          if (elementName === 'ButtonElement' && child.props.type === 'reset') {\n            callbackFunc = this.clearFilter;\n          } else {\n            callbackFunc = this.onElementUpdate.bind(null, elementName);\n          }\n        }\n        // Pass onUserInput and value props to all children\n        formChildren.push(React.cloneElement(child, {\n          onUserInput: callbackFunc,\n          value: filterValue ? filterValue : '',\n          key: key,\n        }));\n        // Initialize filter for StaticDataTable\n        this.setFilter(elementName, child.props.name, filterValue);\n      } else {\n        formChildren.push(React.cloneElement(child, {key: key}));\n      }\n    }.bind(this));\n\n    return formChildren;\n  }\n\n  /**\n   * Appends entry to filter object or deletes it if value is\n   * empty.\n   *\n   * Sets exactMatch to true for all SelectElements (i.e dropdowns)\n   * in order to force StaticDataTable to do exact comparaison\n   *\n   * @param {string} type - form element type (i.e component name)\n   * @param {string} key - the name of the form element\n   * @param {string} value - the value of the form element\n   *\n   * @return {{}} filter - filterData\n   */\n  setFilter(type, key, value) {\n    let filter = {};\n    if (this.props.filter) {\n      filter = JSON.parse(JSON.stringify(this.props.filter));\n    }\n    if (key) {\n      filter[key] = {};\n      if (value) { // all defined/non-null values must have some length, else empty string\n        filter[key].value = Object.keys(value).length > 0 ? value : '';\n      } else { // null and undefined handled here\n        filter[key].value = '';\n      }\n      filter[key].exactMatch = (type === 'SelectElement' || type === 'select');\n    }\n    if (filter && key && value === '') {\n      delete filter[key];\n    }\n    return filter;\n  }\n\n  /**\n   * Sets filter object and querystring to reflect values of input fields\n   *\n   * @param {string} type - form element type (i.e component name)\n   * @param {string} fieldName - the name of the form element\n   * @param {string} fieldValue - the value of the form element\n   */\n  onElementUpdate(type, fieldName, fieldValue) {\n    // Make sure key is of string type and value is of string or object type\n    // before sending them to querystring\n    if (typeof fieldName !== 'string' ||\n        (typeof fieldValue !== 'string' && typeof fieldValue !== 'object')) {\n      return;\n    }\n\n    // Update query string\n    let queryFieldName = (fieldName === 'candID') ? 'candidateID' : fieldName;\n    this.queryString = QueryString.set(this.queryString, queryFieldName, fieldValue);\n\n    // Update filter and get new filter object\n    let filter = this.setFilter(type, fieldName, fieldValue);\n    this.props.onUpdate(filter);\n  }\n\n  render() {\n    // Get formatted children\n    let formChildren = this.getFormChildren();\n    let formElements = this.props.formElements;\n\n    if (formElements) {\n      Object.keys(formElements).forEach(function(fieldName) {\n        let queryFieldName = (fieldName === 'candID') ? 'candidateID' : fieldName;\n        formElements[fieldName].onUserInput = this.onElementUpdate.bind(null, formElements[fieldName].type);\n        formElements[fieldName].value = this.queryString[queryFieldName];\n      }.bind(this));\n    }\n\n    return (\n      <Panel\n        id={this.props.id}\n        height={this.props.height}\n        title={this.props.title}\n      >\n        <FormElement {...this.props}>\n          {formChildren}\n        </FormElement>\n      </Panel>\n    );\n  }\n}\n\nFilterForm.defaultProps = {\n  id: 'selection-filter',\n  height: '100%',\n  title: 'Selection Filter',\n  onUpdate: function() {\n    console.warn('onUpdate() callback is not set!');\n  },\n};\nFilterForm.propTypes = {\n  Module: PropTypes.string.isRequired,\n  filter: PropTypes.object.isRequired,\n  id: PropTypes.string,\n  height: PropTypes.string,\n  title: PropTypes.string,\n  onUpdate: PropTypes.func,\n};\n\nexport default FilterForm;\n","/**\n * This file contains React component for Panel\n *\n * @author Alex I.\n * @version 1.0.0\n *\n */\n\nimport React, {Component} from 'react';\nimport PropTypes from 'prop-types';\n\n/**\n * Panel component\n * Wraps children in a collapsible bootstrap panel\n */\nclass Panel extends Component {\n  /**\n   * Construct the React component\n   *\n   * @param {array} props - The React props\n   */\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      collapsed: this.props.initCollapsed,\n    };\n\n    // Initialize panel class based on collapsed status\n    this.panelClass = (\n      this.props.initCollapsed ?\n        'panel-collapse collapse' :\n        'panel-collapse collapse in'\n    );\n\n    this.toggleCollapsed = this.toggleCollapsed.bind(this);\n  }\n\n  /**\n   * Toggle whether this Panel is displayed as collapsed\n   */\n  toggleCollapsed() {\n    this.setState({collapsed: !this.state.collapsed});\n  }\n\n  /**\n   * Render the React component\n   *\n   * @return {object}\n   */\n  render() {\n    // Change arrow direction based on collapse status\n    let glyphClass = (\n      this.state.collapsed ?\n        'glyphicon pull-right glyphicon-chevron-down' :\n        'glyphicon pull-right glyphicon-chevron-up'\n    );\n\n    // Add panel header, if title is set\n    const panelHeading = this.props.title ? (\n      <div\n        className=\"panel-heading\"\n        onClick={this.toggleCollapsed}\n        data-toggle=\"collapse\"\n        data-target={'#' + this.props.id}\n        style={{cursor: 'pointer', height: '3em'}}\n      >\n        {this.props.title}\n        <span className={glyphClass}></span>\n      </div>\n    ) : '';\n\n    return (\n      <div className=\"panel panel-primary\" style={{height: this.props.panelSize}}>\n        {panelHeading}\n        <div id={this.props.id} className={this.panelClass} role=\"tabpanel\" style={{height: 'calc(100% - 3em)'}}>\n          <div className=\"panel-body\"\n               style={{...this.props.style, height: this.props.height}}>\n            {this.props.children}\n          </div>\n        </div>\n      </div>\n    );\n  }\n}\n\nPanel.propTypes = {\n  id: PropTypes.string,\n  height: PropTypes.string,\n  title: PropTypes.string,\n};\nPanel.defaultProps = {\n  initCollapsed: false,\n  id: 'default-panel',\n  height: '100%',\n};\n\nexport default Panel;\n","/**\n * This file contains React components for Tabs component.\n *\n * @author Loris Team\n * @version 1.1.0\n *\n */\n\nimport React, {Component} from 'react';\nimport PropTypes from 'prop-types';\n\n/**\n * Tabs Component.\n * React wrapper for Bootstrap tabs. Allows to dynamically render tabs\n * and corresponding tab panes.\n *\n * ================================================\n * Usage:\n *\n * 1. Define an array of tabs with IDs and labels\n *\n * `let tabList = [{id: \"tab1\", label: \"This is tab title\"}];`\n *\n * 2. Pass tabList as <Tab> property and <TabPane> as child\n *  ```\n * <Tabs tabs={tabList} defaultTab=\"tab1\">\n *   <TabPane TabId={tabList[0].id}>\n *     // Tab content goes here\n *   </TabPane>\n * </Tabs>\n * ```\n * =================================================\n *\n */\nclass Tabs extends Component {\n  /**\n   * Construct a Tabs react component\n   *\n   * @param {array} props - The React props\n   */\n  constructor(props) {\n    super(props);\n\n    const hash = window.location.hash;\n    let activeTab = '';\n\n    /**\n     * Determine the initial active tab in this order\n     * 1. Try to infer from the URL, otherwise\n     * 2. Try to infer from the defaultTab prop, otherwise\n     * 3. Set to be the first tab of the list\n     */\n    if (this.props.updateURL && hash) {\n      activeTab = hash.substr(1);\n    } else if (this.props.defaultTab) {\n      activeTab = this.props.defaultTab;\n    } else if (this.props.tabs.length > 0) {\n      activeTab = this.props.tabs[0].id;\n    }\n\n    this.state = {\n      activeTab: activeTab,\n    };\n\n    this.handleClick = this.handleClick.bind(this);\n    this.getTabs = this.getTabs.bind(this);\n    this.getTabPanes = this.getTabPanes.bind(this);\n  }\n\n  /**\n   * Handle clicks on a tab header to change the active\n   * tab. If this.props.updateURL is set, update the window\n   * URL and scroll to the top of the page.\n   *\n   * @param {int} tabId -- The tab clicked on\n   * @param {Event} e -- The click event\n   */\n  handleClick(tabId, e) {\n    this.setState({activeTab: tabId});\n    this.props.onTabChange(tabId);\n\n    // Add tab href to URL querystring and scroll the page to top\n    if (this.props.updateURL) {\n      const scrollDistance = $('body').scrollTop() || $('html').scrollTop();\n      window.location.hash = e.target.hash;\n      $('html,body').scrollTop(scrollDistance);\n    }\n  }\n\n  /**\n   * Return a list of components for the tab links.\n   *\n   * @return {array} -- An array of JSX components to represent\n   *                    the tab's title\n   */\n  getTabs() {\n    let tabs = (this.props.tabs).map(function(tab) {\n      let tabClass = this.state.activeTab === tab.id ? 'active' : null;\n      let href = '#' + tab.id;\n      let tabID = 'tab-' + tab.id;\n      return (\n        <li\n          role=\"presentation\"\n          className={tabClass}\n          key={tab.id}\n        >\n          <a id={tabID}\n             href={href}\n             role=\"tab\"\n             data-toggle=\"tab\"\n             onClick={this.handleClick.bind(null, tab.id)}\n          >\n            {tab.label}\n          </a>\n        </li>\n      );\n    }.bind(this));\n\n    return tabs;\n  }\n\n  /**\n   * Return the body of the active tab.\n   *\n   * @return {object} -- A JSX component of the active tab panel.\n   */\n  getTabPanes() {\n    let tabPanes = React.Children.map(\n      this.props.children,\n      function(child, key) {\n        if (child) {\n          return React.cloneElement(child, {\n            activeTab: this.state.activeTab,\n            key: key,\n          });\n        }\n      }.bind(this));\n\n    return tabPanes;\n  }\n\n  /**\n   * React lifecycle method\n   *\n   * @return {object} -- The rendered JSX component\n   */\n  render() {\n    let tabs = this.getTabs();\n    let tabPanes = this.getTabPanes();\n    let tabStyle = {\n      marginLeft: 0,\n      marginBottom: '5px',\n    };\n\n    return (\n      <div>\n        <ul className=\"nav nav-tabs\" role=\"tablist\" style={tabStyle}>\n          {tabs}\n        </ul>\n        <div className=\"tab-content\">\n          {tabPanes}\n        </div>\n      </div>\n    );\n  }\n}\nTabs.propTypes = {\n  tabs: PropTypes.array.isRequired,\n  defaultTab: PropTypes.string,\n  updateURL: PropTypes.bool,\n};\nTabs.defaultProps = {\n  onTabChange: function() {},\n  // Set updateURL to default to true but allow for change\n  // Nested tabs should set this variable to false\n  updateURL: true,\n};\n\n/**\n * VerticalTabs is a React component which dynamically renders\n * a set of vertical tabs corresponding to tab panes.\n */\nclass VerticalTabs extends Component {\n  /**\n   * Construct the Component\n   *\n   * @param {array} props - array of React props\n   */\n  constructor(props) {\n    super(props);\n\n    const hash = window.location.hash;\n    let activeTab = '';\n\n    /**\n     * Determine the initial active tab in this order\n     * 1. Try to infer from the URL, otherwise\n     * 2. Try to infer from the defaultTab prop, otherwise\n     * 3. Set to be the first tab of the list\n     */\n    if (this.props.updateURL && hash) {\n      activeTab = hash.substr(1);\n    } else if (this.props.defaultTab) {\n      activeTab = this.props.defaultTab;\n    } else if (this.props.tabs.length > 0) {\n      activeTab = this.props.tabs[0].id;\n    }\n\n    this.state = {\n      activeTab: activeTab,\n    };\n\n    this.handleClick = this.handleClick.bind(this);\n    this.getTabs = this.getTabs.bind(this);\n    this.getTabPanes = this.getTabPanes.bind(this);\n  }\n\n  /**\n   * Handle clicks on a tab header to change the active\n   * tab. If this.props.updateURL is set, update the window\n   * URL and scroll to the top of the page.\n   *\n   * @param {int} tabId -- The tab clicked on\n   * @param {Event} e -- The click event\n   */\n  handleClick(tabId, e) {\n    this.setState({activeTab: tabId});\n    this.props.onTabChange(tabId);\n\n    // Add tab href to URL querystring and scroll the page to top\n    if (this.props.updateURL) {\n      const scrollDistance = $('body').scrollTop() || $('html').scrollTop();\n      window.location.hash = e.target.hash;\n      $('html,body').scrollTop(scrollDistance);\n    }\n  }\n\n  /**\n   * Return a list of components for the tab links.\n   *\n   * @return {array} -- An array of JSX components to represent\n   *                    the tab's title\n   */\n  getTabs() {\n    let tabs = (this.props.tabs).map(function(tab) {\n      let tabClass = this.state.activeTab === tab.id ? 'active' : null;\n      let href = '#' + tab.id;\n      let tabID = 'tab-' + tab.id;\n      return (\n        <li\n          role=\"presentation\"\n          className={tabClass}\n          key={tab.id}\n        >\n          <a id={tabID}\n             href={href}\n             role=\"tab\"\n             data-toggle=\"tab\"\n             onClick={this.handleClick.bind(null, tab.id)}\n          >\n            {tab.label}\n          </a>\n        </li>\n      );\n    }.bind(this));\n\n    return tabs;\n  }\n\n  /**\n   * Return the body of the active tab.\n   *\n   * @return {object} -- A JSX component of the active tab panel.\n   */\n  getTabPanes() {\n    let tabPanes = React.Children.map(\n      this.props.children,\n      function(child, key) {\n        if (child) {\n          return React.cloneElement(child, {\n            activeTab: this.state.activeTab,\n            key: key,\n          });\n        }\n    }.bind(this));\n\n    return tabPanes;\n  }\n\n  /**\n   * React lifecycle method\n   *\n   * @return {object}\n   */\n  render() {\n    let tabs = this.getTabs();\n    let tabPanes = this.getTabPanes();\n    let tabStyle = {\n      marginLeft: 0,\n      marginBottom: '5px',\n    };\n\n    return (\n      <div>\n        <div className=\"tabbable col-md-3 col-sm-3\">\n          <ul\n              className=\"nav nav-pills nav-stacked\"\n              role=\"tablist\"\n              style={tabStyle}>\n            {tabs}\n          </ul>\n        </div>\n        <div className=\"tab-content col-md-9 col-sm-9\">\n          {tabPanes}\n        </div>\n      </div>\n    );\n  }\n}\nVerticalTabs.propTypes = {\n  tabs: PropTypes.array.isRequired,\n  defaultTab: PropTypes.string,\n  updateURL: PropTypes.bool,\n};\nVerticalTabs.defaultProps = {\n  onTabChange: function() {},\n  // Set updateURL to default to true but allow for change\n  // Nested tabs should set this variable to false\n  updateURL: true,\n};\n\n/**\n * TabPane component.\n * Used to wrap content for every tab.\n */\nclass TabPane extends Component {\n    /**\n     * React lifecycle method\n     *\n     * @return {object}\n     */\n  render() {\n    let classList = 'tab-pane';\n    let title;\n\n    if (this.props.TabId === this.props.activeTab) {\n      classList += ' active';\n    }\n    if (this.props.Title) {\n      title = <h1>{this.props.Title}</h1>;\n    }\n\n    return (\n      <div role=\"tabpanel\" className={classList} id={this.props.TabId}>\n        {title}\n        {this.props.children}\n      </div>\n    );\n  }\n}\nTabPane.propTypes = {\n  TabId: PropTypes.string.isRequired,\n  Title: PropTypes.string,\n  activeTab: PropTypes.string,\n};\n\nexport {\n  Tabs,\n  VerticalTabs,\n  TabPane,\n};\n","/**\n * This file contains the React component for Loader\n *\n * @author Henri Rabalais\n * @version 1.0.0\n *\n */\nimport PropTypes from 'prop-types';\n\n/**\n * Loader is a React component which shows a spinner wheel while\n * something is loading.\n *\n * @param {array} props - The React props\n *\n * @return {DOMObject} - Loader React component\n */\nfunction Loader(props) {\n    return (\n      <div\n        className='loader'\n        style={{width: parseInt(props.size), height: parseInt(props.size)}}\n      />\n    );\n}\n\nLoader.propTypes = {size: PropTypes.string};\nLoader.defaultProps = {size: '120'};\n\nexport default Loader;\n","/* global UploadProgress */\nimport React, {Component} from 'react';\nimport Panel from 'Panel';\n\n/**\n * Log Panel Component\n *\n * Panel component that displays logs for a selected MRI upload whether it is\n * in progress or already completed or failed.\n *\n * @author Alex Ilea\n * @version 1.0.0\n * @since 2017/04/01\n *\n */\nclass LogPanel extends Component {\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      logText: '<select a row in the table below to view the upload logs>',\n      logType: 'summary',\n    };\n\n    this.initHelper = this.initHelper.bind(this);\n    this.onLogTypeChange = this.onLogTypeChange.bind(this);\n    this.setServerPolling = this.setServerPolling.bind(this);\n    this.monitorProgress = this.monitorProgress.bind(this);\n  }\n\n  componentDidMount() {\n    this.initHelper();\n  }\n\n  initHelper() {\n    const uploadProgress = new UploadProgress();\n    this.uploadProgress = uploadProgress;\n\n    $('#mri_upload_table').on('click', 'tbody tr', function(event) {\n      // Stop server polling if any was taking place\n      if (uploadProgress.getUploadRow() !== null) {\n        $(uploadProgress.getUploadRow()).css('background-color', 'white');\n        this.setServerPolling(false);\n      }\n\n      // If user clicked on the same row, it is interpreted as a de-selection:\n      // deselect row and set log text to 'nothing selected'\n      if (event.currentTarget === uploadProgress.getUploadRow()) {\n        uploadProgress.setUploadRow(null);\n        uploadProgress.setProgressFromServer(null);\n        this.setState({\n          logText: '<select a row in the table below to view the upload logs>',\n        });\n        return;\n      }\n\n      uploadProgress.setUploadRow(event.currentTarget);\n      $(event.currentTarget).css('background-color', '#EFEFFB');\n      this.monitorProgress(this.state.logType);\n    }.bind(this));\n  }\n\n  /**\n   * Monitors the progress of an MRI pipeline run on the server by repeatedly\n   * issuing POST requests for this information at regular intervals.\n   * As soon as the server indicates that the pipeline has finished running, polling\n   * will end.\n   *\n   * @param {string} logType - summary or details\n   */\n  monitorProgress(logType) {\n    const summary = (logType === 'summary');\n    const uploadProgress = this.uploadProgress;\n    const uploadId = uploadProgress.getUploadId();\n\n    // If no row was selected\n    if (!uploadId) {\n      return;\n    }\n\n    $.post(loris.BaseURL + '/imaging_uploader/ajax/getUploadSummary.php', {\n      uploadId: uploadId,\n      summary: summary,\n    }, function(data) {\n      uploadProgress.setProgressFromServer(data);\n      this.setState({logText: uploadProgress.getProgressText()});\n      // If the pipeline is still running, start polling\n      // If the pipeline is not running, end the polling (if any was started)\n      this.setServerPolling(\n        uploadProgress.getPipelineStatus() === UploadProgress.PIPELINE_STATUS_RUNNING\n      );\n    }.bind(this)); // post call\n  }\n\n  /**\n   * Starts/stops polling on the server.\n   * @param {bool} poll - pool boolean\n   */\n  setServerPolling(poll) {\n    const uploadProgress = this.uploadProgress;\n\n    if (poll) {\n      // START POLLING\n      // If there were no POST requests being issued, start issuing some.\n      if (!this.setServerPolling.getSummaryInterval) {\n        this.setServerPolling.getSummaryInterval = setInterval(\n          this.monitorProgress, 5000\n        );\n      }\n      // If there were no updates to the string of dots, start updating\n      if (!this.setServerPolling.dotUpdateInterval) {\n        this.setServerPolling.dotUpdateInterval = setInterval(() => {\n          uploadProgress.updateDots();\n          this.setState({\n            logText: uploadProgress.getProgressText(),\n          });\n        }, 3000);\n      }\n      // If there were no updates to the animated chars, start updating\n      if (!this.setServerPolling.animatedCharInterval) {\n        this.setServerPolling.animatedCharInterval = setInterval(() => {\n          uploadProgress.updateAnimatedCharIndex();\n          this.setState({\n            logText: uploadProgress.getProgressText(),\n          });\n        }, 250);\n      }\n    } else {\n      // STOP POLLING\n      // Stop issuing POST requests (if any polling was taking place)\n      if (this.setServerPolling.getSummaryInterval) {\n        clearInterval(this.setServerPolling.getSummaryInterval);\n        this.setServerPolling.getSummaryInterval = null;\n      }\n      // Stop updating the series of dots string (if such an update was going on)\n      if (this.setServerPolling.dotUpdateInterval) {\n        clearInterval(this.setServerPolling.dotUpdateInterval);\n        this.setServerPolling.dotUpdateInterval = null;\n      }\n      // Stop updating the animated char (if such an update was going on)\n      if (this.setServerPolling.animatedCharInterval) {\n        clearInterval(this.setServerPolling.animatedCharInterval);\n        this.setServerPolling.animatedCharInterval = null;\n      }\n    }\n  }\n\n  onLogTypeChange(name, value) {\n    // Update log box\n    this.monitorProgress(value);\n    this.setState({logType: value});\n  }\n\n  render() {\n    const logTypes = {\n      summary: 'Summary',\n      detailed: 'Detailed',\n    };\n\n    return (\n      <Panel id='log_panel' title='Log Viewer'>\n        <FormElement name='log_form'>\n          <SelectElement\n            name='LogType'\n            label='Logs to display'\n            options={logTypes}\n            onUserInput={this.onLogTypeChange}\n            value={this.state.logType}\n            emptyOption={false}\n          />\n          <TextareaElement\n            name='UploadLogs'\n            disabled={true}\n            id='mri_upload_logs'\n            value={this.state.logText}\n            rows={6}\n          />\n        </FormElement>\n      </Panel>\n    );\n  }\n}\n\nLogPanel.propTypes = {};\nLogPanel.defaultProps = {};\n\nexport default LogPanel;\n","import ProgressBar from 'ProgressBar';\nimport React, {Component} from 'react';\n\n/**\n * Imaging Upload Form\n *\n * Form component allowing to upload MRI images to LORIS\n *\n * @author Alex Ilea\n * @author Victoria Foing\n * @version 1.0.0\n * @since 2017/04/01\n *\n */\nclass UploadForm extends Component {\n  constructor(props) {\n    super(props);\n\n    const form = JSON.parse(JSON.stringify(this.props.form));\n\n    this.state = {\n      formData: {},\n      form: form,\n      hasError: {},\n      errorMessage: {},\n      uploadProgress: -1,\n    };\n\n    this.onFormChange = this.onFormChange.bind(this);\n    this.submitForm = this.submitForm.bind(this);\n    this.uploadFile = this.uploadFile.bind(this);\n  }\n\n  // IBIS SPECIFIC OVERRIDE CODE\n  // IBIS adds more options for imaging types.\n  componentDidMount() {\n    // Disable fields on initial load\n    this.onFormChange(this.state.form.imagingUploadType.name, null);\n  }\n  // IBIS SPECIFIC OVERRIDE CODE ENDS HERE\n\n  /*\n   Updates values in formData\n   Deletes CandID, PSCID, and VisitLabel values if Phantom Scans is set to No\n   */\n  // IBIS SPECIFIC OVERRIDE CODE\n  // IBIS adds more options for imaging types.\n  onFormChange(field, value) {\n    if (!field) return;\n\n    const form = JSON.parse(JSON.stringify(this.state.form));\n    const formData = Object.assign({}, this.state.formData);\n\n    if (field === 'imagingUploadType') {\n      if (value !== 'Subject') {\n        delete formData.candID;\n        delete formData.pSCID;\n        delete formData.visitLabel;\n      } else if (typeof formData.mriFile !== 'undefined') {\n        let patientName = formData.mriFile.name.replace(/\\.[a-z]+\\.?[a-z]+?$/i, '');\n        let ids = patientName.split('_');\n        formData.candID = ids[1];\n        formData.pSCID = ids[0];\n        // visitLabel can contain underscores\n        // join the remaining elements of patientName and use as visitLabel\n        ids.splice(0, 2);\n        formData.visitLabel = ids.join('_');\n      }\n    }\n\n    formData[field] = value;\n\n    if (field === 'mriFile') {\n      if (value.name && formData.imagingUploadType === 'Subject') {\n        let patientName = value.name.replace(/\\.[a-z]+\\.?[a-z]+?$/i, '');\n        let ids = patientName.split('_');\n        formData.candID = ids[1];\n        formData.pSCID = ids[0];\n        // visitLabel can contain underscores\n        // join the remaining elements of patientName and use as visitLabel\n        ids.splice(0, 2);\n        formData.visitLabel = ids.join('_');\n      }\n    }\n\n    this.setState({\n      form: form,\n      formData: formData,\n      hasError: {},\n      errorMessage: {},\n      uploadProgress: -1,\n    });\n  }\n  // IBIS SPECIFIC OVERRIDE CODE ENDS HERE\n\n  submitForm() {\n    // Validate required fields\n    const data = this.state.formData;\n\n    // IBIS SPECIFIC OVERRIDE CODE\n    // IBIS adds more options for imaging types.\n    if (!data.mriFile || !data.imagingUploadType) {\n      return;\n    }\n    // IBIS SPECIFIC OVERRIDE CODE ENDS HERE\n\n    const fileName = data.mriFile.name;\n    // Make sure file is of type .zip|.tgz|.tar.gz format\n    const properExt = new RegExp('\\.(zip|tgz|tar\\.gz)$');\n    if (!fileName.match(properExt)) {\n      swal({\n        title: 'Invalid extension for the uploaded file!',\n        text: 'Filename extension does not match .zip, .tgz or .tar.gz ',\n        type: 'error',\n        confirmButtonText: 'OK',\n      });\n\n      let errorMessage = {\n        mriFile: 'The file ' + fileName + ' must be of type .tgz, .tar.gz or .zip.',\n        candID: undefined,\n        pSCID: undefined,\n        visitLabel: undefined,\n      };\n\n      let hasError = {\n        mriFile: true,\n        candID: false,\n        pSCID: false,\n        visitLabel: false,\n      };\n\n      this.setState({errorMessage, hasError});\n      return;\n    }\n\n    // IBIS SPECIFIC OVERRIDE CODE\n    // IBIS adds more options for imaging types.\n    if (data.imagingUploadType === 'Subject') {\n    // IBIS SPECIFIC OVERRIDE CODE ENDS HERE\n      if (!data.candID || !data.pSCID || !data.visitLabel) {\n        swal({\n          title: 'Incorrect file name!',\n          text: 'Could not determine PSCID, CandID and Visit Label based on the filename!\\n',\n          type: 'error',\n          confirmButtonText: 'OK',\n        });\n        return;\n      }\n    }\n\n    // Checks if a file with a given fileName has already been uploaded\n    const mriFile = this.props.mriList.find(\n      (mriFile) => mriFile.fileName.indexOf(fileName) > -1\n    );\n\n    // New File\n    if (!mriFile) {\n      this.uploadFile();\n      return;\n    }\n\n    // File uploaded and completed mri pipeline\n    if (mriFile.status === 'Success') {\n      swal({\n        title: 'File already exists!',\n        text: 'A file with this name has already successfully passed the MRI pipeline!\\n',\n        type: 'error',\n        confirmButtonText: 'OK',\n      });\n      return;\n    }\n\n    // File in the middle of insertion pipeline\n    if (mriFile.status === 'In Progress...') {\n      swal({\n        title: 'File is currently processing!',\n        text: 'A file with this name is currently going through the MRI pipeline!\\n',\n        type: 'error',\n        confirmButtonText: 'OK',\n      });\n      return;\n    }\n\n    // File uploaded but failed during mri pipeline\n    if (mriFile.status === 'Failure') {\n      swal({\n        title: 'Are you sure?',\n        text: 'A file with this name already exists!\\n Would you like to overwrite the existing file?',\n        type: 'warning',\n        showCancelButton: true,\n        confirmButtonText: 'Yes, I am sure!',\n        cancelButtonText: 'No, cancel it!',\n      }, function(isConfirm) {\n        if (isConfirm) {\n          this.uploadFile(true);\n        } else {\n          swal('Cancelled', 'Your upload has been cancelled.', 'error');\n        }\n      }.bind(this));\n    }\n\n    // Pipeline has not been triggered yet\n    if (mriFile.status === 'Not Started') {\n      swal({\n        title: 'Are you sure?',\n        text: 'A file with this name has been uploaded but has not yet been processed by the MRI pipeline.' +\n          '\\n Would you like to overwrite the existing file?',\n        type: 'warning',\n        showCancelButton: true,\n        confirmButtonText: 'Yes, I am sure!',\n        cancelButtonText: 'No, cancel it!',\n      }, function(isConfirm) {\n        if (isConfirm) {\n          this.uploadFile(true);\n        } else {\n          swal('Cancelled', 'Your upload has been cancelled.', 'error');\n        }\n      }.bind(this));\n    }\n\n    return;\n  }\n\n  /*\n   Uploads file to the server, listening to the progress\n   in order to get the percentage uploaded as value for the progress bar\n   */\n  uploadFile(overwriteFile) {\n    const formData = this.state.formData;\n    let formObj = new FormData();\n    for (let key in formData) {\n      if (formData[key] !== '') {\n        formObj.append(key, formData[key]);\n      }\n    }\n    formObj.append('fire_away', 'Upload');\n    if (overwriteFile) {\n      formObj.append('overwrite', true);\n    }\n\n    $.ajax({\n      type: 'POST',\n      url: loris.BaseURL + '/imaging_uploader/',\n      data: formObj,\n      cache: false,\n      contentType: false,\n      processData: false,\n      xhr: function() {\n        const xhr = new window.XMLHttpRequest();\n        xhr.upload.addEventListener('progress', function(evt) {\n          if (evt.lengthComputable) {\n            const percentage = Math.round((evt.loaded / evt.total) * 100);\n            this.setState({uploadProgress: percentage});\n          }\n        }.bind(this), false);\n        return xhr;\n      }.bind(this),\n      // Upon successful upload:\n      // - Resets errorMessage and hasError so no errors are displayed on form\n      // - Displays pop up window with success message\n      // - Returns to Browse tab\n      success: (data) => {\n        let errorMessage = this.state.errorMessage;\n        let hasError = this.state.hasError;\n        for (let i in errorMessage) {\n          if (errorMessage.hasOwnProperty(i)) {\n            errorMessage[i] = '';\n            hasError[i] = false;\n          }\n        }\n        this.setState({errorMessage: errorMessage, hasError: hasError});\n        let text = '';\n        if (this.props.imagingUploaderAutoLaunch === 'true' ||\n            this.props.imagingUploaderAutoLaunch === '1'\n        ) {\n          text = 'Processing of this file by the MRI pipeline has started\\n' +\n            'Select this upload in the result table to view the processing progress';\n        }\n        swal({\n          title: 'Upload Successful!',\n          text: text,\n          type: 'success',\n        }, function() {\n          window.location.assign(loris.BaseURL + '/imaging_uploader/');\n        });\n      },\n      // Upon errors in upload:\n      // - Displays pop up window with submission error message\n      // - Updates errorMessage and hasError so relevant errors are displayed on form\n      // - Returns to Upload tab\n      error: (error, textStatus, errorThrown) => {\n        let errorMessage = Object.assign({}, this.state.errorMessage);\n        let hasError = Object.assign({}, this.state.hasError);\n        let messageToPrint = '';\n        if (error.responseJSON && error.responseJSON.errors) {\n          errorMessage = error.responseJSON.errors;\n        } else if (error.status == 0) {\n          errorMessage = {\n            'mriFile': ['Upload failed: a network error occured'],\n          };\n        } else if (error.status == 413) {\n          errorMessage = {\n            'mriFile': ['Please make sure files are not larger than ' + this.props.maxUploadSize],\n          };\n        } else {\n          errorMessage = {\n            'mriFile': ['Upload failed: received HTTP response code ' + error.status],\n          };\n        }\n        for (let i in errorMessage) {\n          if (errorMessage.hasOwnProperty(i)) {\n            errorMessage[i] = errorMessage[i].toString();\n            if (errorMessage[i].length) {\n              hasError[i] = true;\n              messageToPrint += errorMessage[i] + '\\n';\n            } else {\n              hasError[i] = false;\n            }\n          }\n        }\n        swal({\n          title: 'Submission error!',\n          text: messageToPrint,\n          type: 'error',\n        });\n        this.setState({uploadProgress: -1, errorMessage: errorMessage, hasError: hasError});\n      },\n    });\n  }\n\n  // IBIS SPECIFIC OVERRIDE CODE\n  // IBIS adds more options for imaging types.\n  render() {\n    // Bind form elements to formData\n    const form = this.state.form;\n    form.imagingUploadType.value = this.state.formData.imagingUploadType;\n    form.candID.value = this.state.formData.candID;\n    form.pSCID.value = this.state.formData.pSCID;\n    form.visitLabel.value = this.state.formData.visitLabel;\n    form.mriFile.value = this.state.formData.mriFile;\n\n    // Hide button when progress bar is shown\n    const btnClass = (\n      (this.state.uploadProgress > -1) ? 'btn btn-primary hide' : undefined\n    );\n\n    const notes = (\n        <span>\n          File cannot exceed {this.props.maxUploadSize}<br/>\n          File must be of type .tgz or tar.gz or .zip<br/>\n          <br/>\n          For files that are <u>Subject Scans</u>, file name must begin with\n          <b> [PSCID]_[CandID]_[Visit Label]</b><br/>\n          For example, for CandID <i>100000</i>, PSCID <i>ABC123</i>, and\n          Visit Label <i>V1</i> the file name should be prefixed by:\n          <b> ABC123_100000_V1</b><br/>\n          <br/>\n          For <u>inter-scanner reliability scans</u>, the file name (without extension) must be of the form:<br/>\n          <b> [site]_interscan_[subject initials]_[scanner name]_[scanner_location]_[date][scan number] </b><br/>\n          where<br/>\n          <ul>\n            <li>[site] is the three-letter site abbreviation</li>\n            <li>[subject initials] are the subject&rsquo;s initials (three letters)</li>\n            <li>[scanner name] is the name of the scanner</li>\n            <li>[scanner location] three-letter scanner location</li>\n            <li>[date] is the scan acquisition date in format YYYYMMDD</li>\n            <li>[scan number] is an optional string of the form &rsquo;_scan1&rsquo; for multi-part scans</li>\n          </ul>\n          All the file name parts are case-insensitive. Example of a valid file name:<br/>\n          UNC_interscan_BEA_trio_HOS_20190324_scan2.tar.gz\n        </span>\n    );\n\n    // Returns individual form elements\n    // For CandID, PSCID, and Visit Label, disabled and required\n    // are updated depending on imagingUploadType value\n    // For all elements, hasError and errorMessage\n    // are updated depending on what values are submitted\n    return (\n      <div className='row'>\n        <div className='col-md-7'>\n          <h3>Upload an imaging scan</h3>\n          <br/>\n          <FormElement\n            name='upload_form'\n            fileUpload={true}\n          >\n            <SelectElement\n              name='imagingUploadType'\n              label='Imaging Upload Type'\n              options={this.props.form.imagingUploadType.options}\n              onUserInput={this.onFormChange}\n              required={true}\n              hasError={this.state.hasError.imagingUploadType}\n              errorMessage={this.state.errorMessage.imagingUploadType}\n              value={this.state.formData.imagingUploadType}\n            />\n            <TextboxElement\n              name='candID'\n              label='CandID'\n              disabled={true}\n              required={false}\n              hasError={this.state.hasError.candID}\n              errorMessage={this.state.errorMessage.candID}\n              value={this.state.formData.candID}\n            />\n            <TextboxElement\n              name='pSCID'\n              label='PSCID'\n              disabled={true}\n              required={false}\n              hasError={this.state.hasError.pSCID}\n              errorMessage={this.state.errorMessage.pSCID}\n              value={this.state.formData.pSCID}\n            />\n            <TextboxElement\n              name='visitLabel'\n              label='Visit Label'\n              disabled={true}\n              required={false}\n              hasError={this.state.hasError.visitLabel}\n              errorMessage={this.state.errorMessage.visitLabel}\n              value={this.state.formData.visitLabel}\n            />\n            <FileElement\n              name='mriFile'\n              label='File to Upload'\n              onUserInput={this.onFormChange}\n              required={true}\n              hasError={this.state.hasError.mriFile}\n              errorMessage={this.state.errorMessage.mriFile}\n              value={this.state.formData.mriFile}\n            />\n            <StaticElement\n              label='Notes'\n              text={notes}\n            />\n            <div className='row'>\n              <div className='col-sm-9 col-sm-offset-3'>\n                <ProgressBar value={this.state.uploadProgress}/>\n              </div>\n            </div>\n            <ButtonElement\n              onUserInput={this.submitForm}\n              buttonClass={btnClass}\n            />\n          </FormElement>\n        </div>\n      </div>\n    );\n  }\n  // IBIS SPECIFIC OVERRIDE CODE ENDS HERE\n}\n\nUploadForm.propTypes = {};\nUploadForm.defaultProps = {};\n\nexport default UploadForm;\n","/**\n * React ProgressBar.\n *\n * Updates UI automatically when passed a progress value between 0 and 100.\n * To hide progress bar before/after upload, set value to -1.\n *\n * Note: This component relies on Bootstrap 3 progress-bar classes\n * (http://getbootstrap.com/components/#progress)\n */\n\nimport React, {Component} from 'react';\nimport PropTypes from 'prop-types';\n\nclass ProgressBar extends Component {\n  render() {\n    const progressStyle = {\n      display: (this.props.value < 0 ? 'none' : 'block'),\n      backgroundColor: '#d3d3d3',\n      height: '30px',\n      position: 'relative',\n    };\n\n    const labelStyle = {\n      position: 'absolute',\n      top: 0,\n      left: 0,\n      zIndex: 1000,\n      width: '100%',\n      color: '#fff',\n      textAlign: 'center',\n      lineHeight: '30px',\n      fontWeight: '600',\n    };\n\n    return (\n      <div className=\"progress\" style={progressStyle}>\n        <div\n          className=\"progress-bar progress-bar-striped active\"\n          role=\"progressbar\"\n          aria-valuemin=\"0\"\n          aria-valuemax=\"100\"\n          aria-valuenow={this.props.value}\n          style={{width: (this.props.value + '%')}}\n        >\n        </div>\n        <span style={labelStyle}>{this.props.value}%</span>\n      </div>\n    );\n  }\n}\n\nProgressBar.propTypes = {\n  value: PropTypes.number,\n};\nProgressBar.defaultProps = {\n  value: 0,\n};\n\nexport default ProgressBar;\n"],"sourceRoot":""}