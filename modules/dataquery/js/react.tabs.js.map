{"version":3,"sources":["webpack:///modules/dataquery/js/react.tabs.js","webpack:///webpack/bootstrap 8852a649345d4aba9697","webpack:///./modules/dataquery/jsx/react.tabs.js"],"names":["modules","__webpack_require__","moduleId","installedModules","exports","module","id","loaded","call","m","c","p","Object","defineProperty","value","Loading","React","createClass","displayName","render","createElement","className","TabPane","mixins","addons","PureRenderMixin","classList","this","props","Active","TabId","Title","children","InfoTabPane","UpdatedTime","FieldSelectTabPane","FieldSelector","title","items","categories","onFieldChange","selectedFields","Visits","fieldVisitSelect","FilterSelectTabPane","FilterBuilder","updateFilter","filter","ViewDataTabPane","getInitialState","sessions","runQuery","onRunQueryClicked","Fields","Sessions","changeDataDisplay","displayID","getOrCreateProgressElement","progress","element","document","getElementById","setAttribute","appendChild","getOrCreateDownloadLink","fileName","type","parentEl","el2","download","textContent","downloadData","saveworker","FileList","JSZip","FileData","dataURLs","Array","length","that","window","dataBlobs","confirm","Worker","loris","BaseURL","addEventListener","e","link","FileName","NewFileName","downloadLinks","i","data","cmd","FileNo","Blob","buffer","URL","createObjectURL","Filename","href","innerHTML","Complete","Total","$","click","style","display","slice","NumFiles","postMessage","Files","buttons","onClick","criteria","el","Criteria","hasOwnProperty","item","undefined","push","role","operator","for","data-toggle","displayType","bind","StaticDataTable","Headers","RowHeaders","RowNumLabel","Data","RowNameMap","RowInfo","ScatterplotGraph","lsFit","slope","xi","yi","means","jStat","mean","xmean","ymean","numerator","denominator","minmaxx","arr","min","max","updateScatterplot","group_label","minmax","LS","start","label","dataset","xaxis","yaxis","grouping","points","field1","field2","grouped_points","plots","plotY","x","plot","show","seq","lines","selectedOptions","color","remove","append","covariance","corrcoeff","options","map","key","console","log","scatterStyle","width","height","onChange","StatsVisualizationTabPane","getDefaultProps","displayed","content","stats","stddev","stdev","meandev","meansqerr","quartiles","rows","statsTable","SaveQueryDialog","queryName","shared","editName","setState","target","editPublic","checked","onSaveClicked","state","onDismissClicked","aria-label","aria-hidden","placeholder","ManageSavedQueryFilter","filterItem","activeOperator","logicOp","instrument","field","Field","Operator","Value","ManageSavedQueryRow","Name","Query","filters","fields","isArray","Conditions","ManageSavedQueriesTabPane","dismissDialog","savePrompt","queriesLoaded","queries","saveQuery","savedQuery","name","onSaveQuery","userQueries","globalQueries","queryDetails","queryRows","query","Meta","colSpan","default"],"mappings":"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","file":"./modules/dataquery/js/react.tabs.js","sourcesContent":["/******/ (function(modules) { // webpackBootstrap\n/******/ \t// The module cache\n/******/ \tvar installedModules = {};\n/******/\n/******/ \t// The require function\n/******/ \tfunction __webpack_require__(moduleId) {\n/******/\n/******/ \t\t// Check if module is in cache\n/******/ \t\tif(installedModules[moduleId])\n/******/ \t\t\treturn installedModules[moduleId].exports;\n/******/\n/******/ \t\t// Create a new module (and put it into the cache)\n/******/ \t\tvar module = installedModules[moduleId] = {\n/******/ \t\t\texports: {},\n/******/ \t\t\tid: moduleId,\n/******/ \t\t\tloaded: false\n/******/ \t\t};\n/******/\n/******/ \t\t// Execute the module function\n/******/ \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n/******/\n/******/ \t\t// Flag the module as loaded\n/******/ \t\tmodule.loaded = true;\n/******/\n/******/ \t\t// Return the exports of the module\n/******/ \t\treturn module.exports;\n/******/ \t}\n/******/\n/******/\n/******/ \t// expose the modules object (__webpack_modules__)\n/******/ \t__webpack_require__.m = modules;\n/******/\n/******/ \t// expose the module cache\n/******/ \t__webpack_require__.c = installedModules;\n/******/\n/******/ \t// __webpack_public_path__\n/******/ \t__webpack_require__.p = \"\";\n/******/\n/******/ \t// Load entry module and return exports\n/******/ \treturn __webpack_require__(0);\n/******/ })\n/************************************************************************/\n/******/ ([\n/* 0 */\n/***/ function(module, exports) {\n\n\t\"use strict\";\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t    value: true\n\t});\n\t/**\n\t *  The following file contains the components used for displaying the tab content\n\t *\n\t *  @author   Dave MacFarlane <david.macfarlane2@mcgill.ca>\n\t *  @author   Jordan Stirling <jstirling91@gmail.com>\n\t *  @license  http://www.gnu.org/licenses/gpl-3.0.txt GPLv3\n\t *  @link     https://github.com/mohadesz/Loris-Trunk\n\t */\n\t\n\t/*\n\t *  The following componet is used to indicate to users that their data is currently\n\t *  loading\n\t */\n\tvar Loading = React.createClass({\n\t    displayName: \"Loading\",\n\t\n\t    render: function render() {\n\t        return React.createElement(\n\t            \"div\",\n\t            { className: \"row\" },\n\t            React.createElement(\n\t                \"h3\",\n\t                { className: \"text-center loading-header\" },\n\t                \"We are currently working hard to load your data. Please be patient.\"\n\t            ),\n\t            React.createElement(\n\t                \"div\",\n\t                { className: \"spinner\" },\n\t                React.createElement(\"div\", { className: \"bounce1\" }),\n\t                React.createElement(\"div\", { className: \"bounce2\" }),\n\t                React.createElement(\"div\", { className: \"bounce3\" })\n\t            )\n\t        );\n\t    }\n\t});\n\t\n\t/*\n\t *  The following component is the base component for displaying the tab's contnet\n\t */\n\tvar TabPane = React.createClass({\n\t    displayName: \"TabPane\",\n\t\n\t    mixins: [React.addons.PureRenderMixin],\n\t    render: function render() {\n\t        var classList = \"tab-pane\";\n\t        if (this.props.Active) {\n\t            classList += \" active\";\n\t        }\n\t        if (this.props.Loading) {\n\t            return React.createElement(\n\t                \"div\",\n\t                { className: classList, id: this.props.TabId },\n\t                React.createElement(Loading, null)\n\t            );\n\t        }\n\t        return React.createElement(\n\t            \"div\",\n\t            { className: classList, id: this.props.TabId },\n\t            React.createElement(\n\t                \"h1\",\n\t                null,\n\t                this.props.Title\n\t            ),\n\t            this.props.children\n\t        );\n\t    }\n\t});\n\t\n\t/*\n\t *  The following component is used for displaying the info tab content\n\t */\n\tvar InfoTabPane = React.createClass({\n\t    displayName: \"InfoTabPane\",\n\t\n\t    mixins: [React.addons.PureRenderMixin],\n\t    render: function render() {\n\t        return React.createElement(\n\t            TabPane,\n\t            { Title: \"Welcome to the Data Query Tool\",\n\t                TabId: this.props.TabId, Active: true, Loading: this.props.Loading },\n\t            React.createElement(\n\t                \"p\",\n\t                null,\n\t                \"Data was last updated on \",\n\t                this.props.UpdatedTime,\n\t                \".\"\n\t            ),\n\t            React.createElement(\n\t                \"p\",\n\t                null,\n\t                \"Please define or use your query by using the following tabs.\"\n\t            ),\n\t            React.createElement(\n\t                \"dl\",\n\t                null,\n\t                React.createElement(\n\t                    \"dt\",\n\t                    null,\n\t                    \"Define Fields\"\n\t                ),\n\t                React.createElement(\n\t                    \"dd\",\n\t                    null,\n\t                    \"Define the fields to be added to your query here.\"\n\t                ),\n\t                React.createElement(\n\t                    \"dt\",\n\t                    null,\n\t                    \"Define Filters\"\n\t                ),\n\t                React.createElement(\n\t                    \"dd\",\n\t                    null,\n\t                    \"Define the criteria to filter the data for your query here.\"\n\t                ),\n\t                React.createElement(\n\t                    \"dt\",\n\t                    null,\n\t                    \"View Data\"\n\t                ),\n\t                React.createElement(\n\t                    \"dd\",\n\t                    null,\n\t                    \"See the results of your query.\"\n\t                ),\n\t                React.createElement(\n\t                    \"dt\",\n\t                    null,\n\t                    \"Statistical Analysis\"\n\t                ),\n\t                React.createElement(\n\t                    \"dd\",\n\t                    null,\n\t                    \"Visualize or see basic statistical measures from your query here.\"\n\t                ),\n\t                React.createElement(\n\t                    \"dt\",\n\t                    null,\n\t                    \"Load Saved Query\"\n\t                ),\n\t                React.createElement(\n\t                    \"dd\",\n\t                    null,\n\t                    \"Load a previously saved query (by name) by selecting from this menu.\"\n\t                ),\n\t                React.createElement(\n\t                    \"dt\",\n\t                    null,\n\t                    \"Manage Saved Queries\"\n\t                ),\n\t                React.createElement(\n\t                    \"dd\",\n\t                    null,\n\t                    \"Either save your current query or see the criteria of previously saved quer  ies here.\"\n\t                )\n\t            )\n\t        );\n\t    }\n\t});\n\t\n\t/*\n\t *  The following component is used for displaying the field select tab content\n\t */\n\tvar FieldSelectTabPane = React.createClass({\n\t    displayName: \"FieldSelectTabPane\",\n\t\n\t    render: function render() {\n\t        return React.createElement(\n\t            TabPane,\n\t            { TabId: this.props.TabId, Loading: this.props.Loading },\n\t            React.createElement(FieldSelector, { title: \"Fields\",\n\t                items: this.props.categories,\n\t                onFieldChange: this.props.onFieldChange,\n\t                selectedFields: this.props.selectedFields,\n\t                Visits: this.props.Visits,\n\t                fieldVisitSelect: this.props.fieldVisitSelect\n\t            })\n\t        );\n\t    }\n\t\n\t});\n\t\n\t/*\n\t *  The following component is used for displaying the filter builder tab content\n\t */\n\tvar FilterSelectTabPane = React.createClass({\n\t    displayName: \"FilterSelectTabPane\",\n\t\n\t    render: function render() {\n\t        return React.createElement(\n\t            TabPane,\n\t            { TabId: this.props.TabId, Loading: this.props.Loading },\n\t            React.createElement(FilterBuilder, { items: this.props.categories,\n\t                updateFilter: this.props.updateFilter,\n\t                filter: this.props.filter,\n\t                Visits: this.props.Visits\n\t            })\n\t        );\n\t    }\n\t});\n\t\n\t/*\n\t *  The following component is used for displaying the view data tab content\n\t */\n\tvar ViewDataTabPane = React.createClass({\n\t    displayName: \"ViewDataTabPane\",\n\t\n\t    getInitialState: function getInitialState() {\n\t        return { 'sessions': [] };\n\t    },\n\t    runQuery: function runQuery() {\n\t        // Wrapper function to run the current query\n\t        if (this.props.onRunQueryClicked) {\n\t            this.props.onRunQueryClicked(this.props.Fields, this.props.Sessions);\n\t        }\n\t    },\n\t    changeDataDisplay: function changeDataDisplay(displayID) {\n\t        // Wrapper function to change the data display type\n\t        this.props.changeDataDisplay(displayID);\n\t    },\n\t    getOrCreateProgressElement: function getOrCreateProgressElement(id) {\n\t        // Helper function to display the progress of downloading the downloadable\n\t        // fields into a ZIP folder\n\t        var element = document.getElementById(id),\n\t            progress;\n\t\n\t        if (element) {\n\t            return element;\n\t        }\n\t\n\t        progress = document.getElementById(\"progress\");\n\t\n\t        element = document.createElement(\"div\");\n\t        element.setAttribute(\"id\", id);\n\t        progress.appendChild(element);\n\t        return element;\n\t    },\n\t    getOrCreateDownloadLink: function getOrCreateDownloadLink(fileName, type) {\n\t        // Helper function to create and click a downloadable link to download the\n\t        // downloadable fields into a ZIP folder\n\t        var element = document.getElementById(\"DownloadLink\" + fileName),\n\t            parentEl,\n\t            el2;\n\t\n\t        if (element) {\n\t            return element;\n\t        }\n\t\n\t        parentEl = document.getElementById(\"downloadlinksUL\");\n\t\n\t        element = document.createElement(\"a\");\n\t        element.download = fileName;\n\t        element.type = type;\n\t        element.textContent = \"Zip file: \" + fileName;\n\t        element.setAttribute(\"id\", \"DownloadLink\" + fileName);\n\t        el2 = document.createElement(\"li\");\n\t        el2.appendChild(element);\n\t        parentEl.appendChild(el2);\n\t        return element;\n\t    },\n\t    downloadData: function downloadData() {\n\t        // Download the downloadable fields into a ZIP folder\n\t        // Makes use of a web worker to format and download the data\n\t        var zip = new JSZip(),\n\t            i = 0,\n\t            FileList = this.props.FileData,\n\t            CompleteMask = new Array(FileList.length),\n\t            saveworker,\n\t            dataURLs = [],\n\t            that = this,\n\t            multiLinkHandler = function multiLinkHandler(buffer) {\n\t            return function (ce) {\n\t                var downloadLink = document.getElementById(\"DownloadLink\"),\n\t                    dv = new DataView(buffer),\n\t                    blb;\n\t\n\t                ce.preventDefault();\n\t                blb = new Blob([dv], { type: \"application/zip\" });\n\t\n\t                downloadLink.href = window.URL.createObjectURL(blb);\n\t                downloadLink.download = this.download;\n\t                downloadLink.type = \"application/zip\";\n\t                downloadLink.click();\n\t\n\t                window.URL.revokeObjectURL(downloadLink.href);\n\t            };\n\t        };\n\t\n\t        // Does this work if we hold a global reference instead of a closure\n\t        // to the object URL?\n\t        window.dataBlobs = [];\n\t\n\t        if (FileList.length < 100 || confirm(\"You are trying to download more than 100 files. This may be slow or crash your web browser.\\n\\nYou may want to consider splitting your query into more, smaller queries by defining more restrictive filters.\\n\\nPress OK to continue with attempting to download current files or cancel to abort.\")) {\n\t            saveworker = new Worker(loris.BaseURL + '/GetJS.php?Module=dataquery&file=workers/savezip.js');\n\t            saveworker.addEventListener('message', function (e) {\n\t                var link, progress, FileName, NewFileName, downloadLinks, i;\n\t                if (e.data.cmd === 'SaveFile') {\n\t                    progress = that.getOrCreateProgressElement(\"download_progress\");\n\t                    //progress.textContent = \"Downloaded files\";\n\t                    //hold a reference to the blob so that chrome doesn't release it. This shouldn't\n\t                    //be required.\n\t                    window.dataBlobs[e.data.FileNo - 1] = new Blob([e.data.buffer], { type: \"application/zip\" });;\n\t                    dataURLs[e.data.FileNo - 1] = window.URL.createObjectURL(window.dataBlobs[e.data.FileNo - 1]);\n\t\n\t                    link = that.getOrCreateDownloadLink(e.data.Filename, \"application/zip\");\n\t                    link.href = dataURLs[e.data.FileNo - 1];\n\t                    //link.onclick = multiLinkHandler(e.data.buffer);\n\t                    //link.href = \"#\";\n\t                    progress = that.getOrCreateProgressElement(\"zip_progress\");\n\t                    progress.textContent = \"\";\n\t                } else if (e.data.cmd === 'Progress') {\n\t                    progress = that.getOrCreateProgressElement(\"download_progress\");\n\t                    progress.innerHTML = \"Downloading files: <progress value=\\\"\" + e.data.Complete + \"\\\" max=\\\"\" + e.data.Total + \"\\\">\" + e.data.Complete + \" out of \" + e.data.Total + \"</progress>\";\n\t                } else if (e.data.cmd === 'Finished') {\n\t                    if (dataURLs.length === 1) {\n\t                        $(\"#downloadlinksUL li a\")[0].click();\n\t                    }\n\t\n\t                    if (dataURLs.length > 1) {\n\t                        progress = document.getElementById(\"downloadlinks\");\n\t                        progress.style.display = \"initial\";\n\t\n\t                        downloadLinks = $(\"#downloadlinksUL li a\");\n\t                        for (i = 0; i < dataURLs.length; i += 1) {\n\t                            FileName = downloadLinks[i].id.slice(\"DownloadLinkFiles-\".length, -4);\n\t                            NewFileName = \"files-\" + FileName + \"of\" + e.data.NumFiles + \".zip\";\n\t                            downloadLinks[i].download = NewFileName;\n\t                            downloadLinks[i].href = dataURLs[i];\n\t                            downloadLinks[i].textContent = \"Zip file: \" + NewFileName;\n\t                        }\n\t                    }\n\t                    progress = that.getOrCreateProgressElement(\"download_progress\");\n\t                    progress.textContent = \"Finished generating zip files\";\n\t                    //this.terminate();\n\t                } else if (e.data.cmd === 'CreatingZip') {\n\t                        progress = that.getOrCreateProgressElement(\"zip_progress\");\n\t                        progress.textContent = \"Creating a zip file with current batch of downloaded files. Process may be slow before proceeding.\";\n\t                    }\n\t            });\n\t\n\t            saveworker.postMessage({ Files: FileList, BaseURL: loris.BaseURL });\n\t        }\n\t    },\n\t    render: function render() {\n\t        var downloadData;\n\t        var buttons = React.createElement(\n\t            \"div\",\n\t            { className: \"row\" },\n\t            React.createElement(\n\t                \"div\",\n\t                { className: \"commands col-xs-12 form-group\" },\n\t                React.createElement(\n\t                    \"button\",\n\t                    { className: \"btn btn-primary\", onClick: this.runQuery },\n\t                    \"Run Query\"\n\t                ),\n\t                React.createElement(\n\t                    \"button\",\n\t                    { className: \"btn btn-primary\", onClick: this.downloadData },\n\t                    \"Download Data as ZIP\"\n\t                )\n\t            ),\n\t            React.createElement(\"div\", { id: \"progress\", className: \"col-xs-12\" }),\n\t            React.createElement(\n\t                \"div\",\n\t                { id: \"downloadlinks\", className: \"col-xs-12\" },\n\t                React.createElement(\"ul\", { id: \"downloadlinksUL\" })\n\t            )\n\t        );\n\t        var criteria = [];\n\t        for (var el in this.props.Criteria) {\n\t            if (!this.props.Criteria.hasOwnProperty(el)) {\n\t                continue;\n\t            }\n\t            var item = this.props.Criteria[el];\n\t            if (item === undefined) {\n\t                criteria.push(React.createElement(\n\t                    \"div\",\n\t                    { className: \"alert alert-warning\", role: \"alert\" },\n\t                    el,\n\t                    \" has been added as a filter but not had criteria defined.\"\n\t                ));\n\t            } else {\n\t                criteria.push(React.createElement(\n\t                    \"div\",\n\t                    { className: \"row\" },\n\t                    React.createElement(\n\t                        \"span\",\n\t                        { className: \"col-sm-3\" },\n\t                        el\n\t                    ),\n\t                    React.createElement(\n\t                        \"span\",\n\t                        { className: \"col-sm-3\" },\n\t                        item.operator\n\t                    ),\n\t                    React.createElement(\n\t                        \"span\",\n\t                        { className: \"col-sm-3\" },\n\t                        item.value\n\t                    )\n\t                ));\n\t            }\n\t        }\n\t        return React.createElement(\n\t            TabPane,\n\t            { TabId: this.props.TabId, Loading: this.props.Loading },\n\t            React.createElement(\n\t                \"h2\",\n\t                null,\n\t                \"Query Criteria\"\n\t            ),\n\t            criteria,\n\t            \" \",\n\t            buttons,\n\t            React.createElement(\n\t                \"div\",\n\t                { className: \"form-group form-horizontal row\" },\n\t                React.createElement(\n\t                    \"label\",\n\t                    { \"for\": \"selected-input\", className: \"col-sm-1 control-label\" },\n\t                    \"Data\"\n\t                ),\n\t                React.createElement(\n\t                    \"div\",\n\t                    { className: \"col-sm-4\" },\n\t                    React.createElement(\n\t                        \"div\",\n\t                        { className: \"btn-group\" },\n\t                        React.createElement(\n\t                            \"button\",\n\t                            { id: \"selected-input\", type: \"button\", className: \"btn btn-default dropdown-toggle\", \"data-toggle\": \"dropdown\" },\n\t                            React.createElement(\n\t                                \"span\",\n\t                                { id: \"search_concept\" },\n\t                                this.props.displayType\n\t                            ),\n\t                            React.createElement(\"span\", { className: \"caret\" })\n\t                        ),\n\t                        React.createElement(\n\t                            \"ul\",\n\t                            { className: \"dropdown-menu\", role: \"menu\" },\n\t                            React.createElement(\n\t                                \"li\",\n\t                                { onClick: this.changeDataDisplay.bind(this, 0) },\n\t                                React.createElement(\n\t                                    \"div\",\n\t                                    { className: \"col-sm-12\" },\n\t                                    React.createElement(\n\t                                        \"h5\",\n\t                                        { className: \"\" },\n\t                                        \"Cross-sectional\"\n\t                                    )\n\t                                )\n\t                            ),\n\t                            React.createElement(\n\t                                \"li\",\n\t                                { onClick: this.changeDataDisplay.bind(this, 1) },\n\t                                React.createElement(\n\t                                    \"div\",\n\t                                    { className: \"col-sm-12\" },\n\t                                    React.createElement(\n\t                                        \"h5\",\n\t                                        { className: \"\" },\n\t                                        \"Longitudinal\"\n\t                                    )\n\t                                )\n\t                            )\n\t                        )\n\t                    )\n\t                )\n\t            ),\n\t            React.createElement(StaticDataTable, {\n\t                Headers: this.props.RowHeaders,\n\t                RowNumLabel: \"Identifiers\",\n\t                Data: this.props.Data,\n\t                RowNameMap: this.props.RowInfo\n\t            })\n\t        );\n\t    }\n\t});\n\t\n\t/*\n\t *  The following component is used for displaying the scatterplot graph\n\t *  in the stats tab using flot. The following code is a modification of\n\t *  code used in the couchApp implementation of the DQT\n\t */\n\tvar ScatterplotGraph = React.createClass({\n\t    displayName: \"ScatterplotGraph\",\n\t\n\t    lsFit: function lsFit(data) {\n\t        var i = 0,\n\t            means = jStat(data).mean(),\n\t            xmean = means[0],\n\t            ymean = means[1],\n\t            interim = 0,\n\t            numerator = 0,\n\t            denominator = 0,\n\t            slope,\n\t            xi,\n\t            yi;\n\t\n\t        for (i = 0; i < data.length; i += 1) {\n\t            xi = data[i][0];\n\t            yi = data[i][1];\n\t            numerator += (xi - xmean) * (yi - ymean);\n\t            denominator += (xi - xmean) * (xi - xmean);\n\t        }\n\t\n\t        slope = numerator / denominator;\n\t\n\t        return [ymean - slope * xmean, slope];\n\t    },\n\t    minmaxx: function minmaxx(arr) {\n\t        var i, min, max;\n\t\n\t        for (i = 0; i < arr.length; i += 1) {\n\t            if (arr[i][0] < min || min === undefined) {\n\t                if (arr[i][0] !== undefined && arr[i][0] !== null) {\n\t                    min = arr[i][0];\n\t                }\n\t            }\n\t            if (arr[i][0] > max || max === undefined) {\n\t                if (arr[i][0] !== undefined && arr[i][0] !== null) {\n\t                    max = arr[i][0];\n\t                }\n\t            }\n\t        }\n\t        return [min, max];\n\t    },\n\t    updateScatterplot: function updateScatterplot() {\n\t        var xaxis = document.getElementById(\"scatter-xaxis\").value,\n\t            yaxis = document.getElementById(\"scatter-yaxis\").value,\n\t            grouping = document.getElementById(\"scatter-group\").value,\n\t            data = this.props.Data,\n\t            points = [],\n\t            min,\n\t            max,\n\t            field1 = [],\n\t            field2 = [],\n\t            grouped_points = {},\n\t            i = 0,\n\t            group_label,\n\t            minmax,\n\t            LS,\n\t            slope,\n\t            start,\n\t            plots = [],\n\t            label,\n\t            plotY = function plotY(x) {\n\t            return [x, start + slope * x];\n\t        },\n\t            dataset;\n\t\n\t        for (i = 0; i < data.length; i += 1) {\n\t            points.push([data[i][xaxis], data[i][yaxis]]);\n\t            field1.push(data[i][xaxis]);\n\t            field2.push(data[i][yaxis]);\n\t            if (grouping) {\n\t                group_label = data[i][grouping];\n\t                if (!(grouped_points[group_label] instanceof Array)) {\n\t                    grouped_points[group_label] = [];\n\t                }\n\t                grouped_points[group_label].push([data[i][xaxis], data[i][yaxis]]);\n\t            }\n\t        }\n\t\n\t        if (grouping === 'ungrouped') {\n\t            minmax = this.minmaxx(points);\n\t            min = minmax[0];\n\t            max = minmax[1];\n\t            LS = this.lsFit(points);\n\t            slope = LS[1];\n\t            start = LS[0];\n\t\n\t            $.plot(\"#scatterplotdiv\", [{\n\t\n\t                label: 'Data Points',\n\t                data: points,\n\t                points: { show: true }\n\t            }, // Least Squares Fit\n\t            {\n\t                label: 'Least Squares Fit',\n\t                data: jStat.seq(min, max, 3, plotY),\n\t                lines: { show: true }\n\t            }], {});\n\t        } else {\n\t            minmax = this.minmaxx(points);\n\t            min = minmax[0];\n\t            max = minmax[1];\n\t            i = 0;\n\t\n\t            for (dataset in grouped_points) {\n\t                if (grouped_points.hasOwnProperty(dataset)) {\n\t                    label = document.getElementById(\"scatter-group\").selectedOptions.item(0).textContent + \" = \" + dataset;\n\t                    plots.push({\n\t                        color: i,\n\t                        label: dataset,\n\t                        data: grouped_points[dataset],\n\t                        points: { show: true }\n\t                    });\n\t                    LS = this.lsFit(grouped_points[dataset]);\n\t                    //LS = lsFit(grouped_points[dataset].convertNumbers());\n\t                    slope = LS[1];\n\t                    start = LS[0];\n\t                    plots.push({\n\t                        color: i,\n\t                        // label: \"LS Fit for \" + dataset,\n\t                        data: jStat.seq(min, max, 3, plotY),\n\t                        lines: { show: true }\n\t                    });\n\t                    i += 1;\n\t                }\n\t            }\n\t            $.plot(\"#scatterplotdiv\", plots, {});\n\t        }\n\t\n\t        $(\"#correlationtbl tbody\").children().remove();\n\t        $(\"#correlationtbl tbody\").append(\"<tr><td>\" + jStat.covariance(field1, field2) + \"</td><td>\" + jStat.corrcoeff(field1, field2) + \"</td></tr>\");\n\t    },\n\t    render: function render() {\n\t        var options = this.props.Fields.map(function (element, key) {\n\t            console.log(element);\n\t            return React.createElement(\n\t                \"option\",\n\t                { value: key },\n\t                element\n\t            );\n\t        }),\n\t            scatterStyle = {\n\t            width: \"500px\",\n\t            height: \"500px\"\n\t        };\n\t        return React.createElement(\n\t            \"div\",\n\t            null,\n\t            React.createElement(\n\t                \"h2\",\n\t                null,\n\t                \"Scatterplot\"\n\t            ),\n\t            React.createElement(\n\t                \"div\",\n\t                { className: \"col-xs-4 col-md-3\" },\n\t                \"Column for X Axis\"\n\t            ),\n\t            React.createElement(\n\t                \"div\",\n\t                { className: \"col-xs-8 col-md-3\" },\n\t                React.createElement(\n\t                    \"select\",\n\t                    { id: \"scatter-xaxis\", onChange: this.updateScatterplot },\n\t                    React.createElement(\n\t                        \"option\",\n\t                        null,\n\t                        \"None\"\n\t                    ),\n\t                    options\n\t                )\n\t            ),\n\t            React.createElement(\n\t                \"div\",\n\t                { className: \"col-xs-4 col-md-3\" },\n\t                \"Column for Y Axis\"\n\t            ),\n\t            React.createElement(\n\t                \"div\",\n\t                { className: \"col-xs-8 col-md-3\" },\n\t                React.createElement(\n\t                    \"select\",\n\t                    { id: \"scatter-yaxis\", onChange: this.updateScatterplot },\n\t                    React.createElement(\n\t                        \"option\",\n\t                        null,\n\t                        \"None\"\n\t                    ),\n\t                    options\n\t                )\n\t            ),\n\t            React.createElement(\n\t                \"div\",\n\t                { className: \"col-xs-4 col-md-3\" },\n\t                \"Group by column\"\n\t            ),\n\t            React.createElement(\n\t                \"div\",\n\t                { className: \"col-xs-8 col-md-3\" },\n\t                React.createElement(\n\t                    \"select\",\n\t                    { id: \"scatter-group\", onChange: this.updateScatterplot },\n\t                    React.createElement(\n\t                        \"option\",\n\t                        null,\n\t                        \"None\"\n\t                    ),\n\t                    options\n\t                )\n\t            ),\n\t            React.createElement(\n\t                \"h3\",\n\t                null,\n\t                \"Scatterplot\"\n\t            ),\n\t            React.createElement(\"div\", { id: \"scatterplotdiv\", style: scatterStyle }),\n\t            React.createElement(\n\t                \"h3\",\n\t                null,\n\t                \"Statistics\"\n\t            ),\n\t            React.createElement(\n\t                \"table\",\n\t                { id: \"correlationtbl\" },\n\t                React.createElement(\n\t                    \"thead\",\n\t                    null,\n\t                    React.createElement(\n\t                        \"tr\",\n\t                        null,\n\t                        React.createElement(\n\t                            \"th\",\n\t                            null,\n\t                            \"Covariance\"\n\t                        ),\n\t                        React.createElement(\n\t                            \"th\",\n\t                            null,\n\t                            \"Correlation Coefficient\"\n\t                        )\n\t                    )\n\t                ),\n\t                React.createElement(\"tbody\", null)\n\t            )\n\t        );\n\t    }\n\t});\n\t\n\t/*\n\t *  The following component is used for displaying the stats tab content\n\t */\n\tvar StatsVisualizationTabPane = React.createClass({\n\t    displayName: \"StatsVisualizationTabPane\",\n\t\n\t    getDefaultProps: function getDefaultProps() {\n\t        return {\n\t            'Data': []\n\t        };\n\t    },\n\t    getInitialState: function getInitialState() {\n\t        return {\n\t            'displayed': false\n\t        };\n\t    },\n\t    render: function render() {\n\t        // if(this.state.displayed === false) {\n\t        //     var content = <div>Statistics not yet calculated.</div>;\n\t        //     // return <TabPane content={content} TabId={this.props.TabId} />;\n\t        // } else\n\t        if (this.props.Data.length === 0) {\n\t            var content = React.createElement(\n\t                \"div\",\n\t                null,\n\t                \"Could not calculate stats, query not run\"\n\t            );\n\t            // return <TabPane content={content} TabId={this.props.TabId} />;\n\t        } else {\n\t                var stats = jStat(this.props.Data),\n\t                    min = stats.min(),\n\t                    max = stats.max(),\n\t                    stddev = stats.stdev(),\n\t                    mean = stats.mean(),\n\t                    meandev = stats.meandev(),\n\t                    meansqerr = stats.meansqerr(),\n\t                    quartiles = stats.quartiles(),\n\t                    rows = [];\n\t\n\t                for (var i = 0; i < this.props.Fields.length; i += 1) {\n\t                    rows.push(React.createElement(\n\t                        \"tr\",\n\t                        null,\n\t                        React.createElement(\n\t                            \"td\",\n\t                            null,\n\t                            this.props.Fields[i]\n\t                        ),\n\t                        React.createElement(\n\t                            \"td\",\n\t                            null,\n\t                            min[i]\n\t                        ),\n\t                        React.createElement(\n\t                            \"td\",\n\t                            null,\n\t                            max[i]\n\t                        ),\n\t                        React.createElement(\n\t                            \"td\",\n\t                            null,\n\t                            stddev[i]\n\t                        ),\n\t                        React.createElement(\n\t                            \"td\",\n\t                            null,\n\t                            mean[i]\n\t                        ),\n\t                        React.createElement(\n\t                            \"td\",\n\t                            null,\n\t                            meandev[i]\n\t                        ),\n\t                        React.createElement(\n\t                            \"td\",\n\t                            null,\n\t                            meansqerr[i]\n\t                        ),\n\t                        React.createElement(\n\t                            \"td\",\n\t                            null,\n\t                            quartiles[i][0]\n\t                        ),\n\t                        React.createElement(\n\t                            \"td\",\n\t                            null,\n\t                            quartiles[i][1]\n\t                        ),\n\t                        React.createElement(\n\t                            \"td\",\n\t                            null,\n\t                            quartiles[i][2]\n\t                        )\n\t                    ));\n\t                }\n\t\n\t                var statsTable = React.createElement(\n\t                    \"table\",\n\t                    { className: \"table table-hover table-primary table-bordered colm-freeze\" },\n\t                    React.createElement(\n\t                        \"thead\",\n\t                        null,\n\t                        React.createElement(\n\t                            \"tr\",\n\t                            { className: \"info\" },\n\t                            React.createElement(\n\t                                \"th\",\n\t                                null,\n\t                                \"Measure\"\n\t                            ),\n\t                            React.createElement(\n\t                                \"th\",\n\t                                null,\n\t                                \"Min\"\n\t                            ),\n\t                            React.createElement(\n\t                                \"th\",\n\t                                null,\n\t                                \"Max\"\n\t                            ),\n\t                            React.createElement(\n\t                                \"th\",\n\t                                null,\n\t                                \"Standard Deviation\"\n\t                            ),\n\t                            React.createElement(\n\t                                \"th\",\n\t                                null,\n\t                                \"Mean\"\n\t                            ),\n\t                            React.createElement(\n\t                                \"th\",\n\t                                null,\n\t                                \"Mean Deviation\"\n\t                            ),\n\t                            React.createElement(\n\t                                \"th\",\n\t                                null,\n\t                                \"Mean Squared Error\"\n\t                            ),\n\t                            React.createElement(\n\t                                \"th\",\n\t                                null,\n\t                                \"First Quartile\"\n\t                            ),\n\t                            React.createElement(\n\t                                \"th\",\n\t                                null,\n\t                                \"Second Quartile\"\n\t                            ),\n\t                            React.createElement(\n\t                                \"th\",\n\t                                null,\n\t                                \"Third Quartile\"\n\t                            )\n\t                        )\n\t                    ),\n\t                    React.createElement(\n\t                        \"tbody\",\n\t                        null,\n\t                        rows\n\t                    )\n\t                );\n\t\n\t                var content = React.createElement(\n\t                    \"div\",\n\t                    null,\n\t                    React.createElement(\n\t                        \"h2\",\n\t                        null,\n\t                        \"Basic Statistics\"\n\t                    ),\n\t                    statsTable,\n\t                    React.createElement(ScatterplotGraph, {\n\t                        Fields: this.props.Fields,\n\t                        Data: this.props.Data\n\t                    })\n\t                );\n\t            }\n\t        return React.createElement(\n\t            TabPane,\n\t            { TabId: this.props.TabId, Loading: this.props.Loading },\n\t            content\n\t        );\n\t    }\n\t});\n\t\n\t/*\n\t *  The following component is used for displaying a popout dialog for saving the current\n\t *  query\n\t */\n\tvar SaveQueryDialog = React.createClass({\n\t    displayName: \"SaveQueryDialog\",\n\t\n\t    getInitialState: function getInitialState() {\n\t        return {\n\t            'queryName': '',\n\t            'shared': false\n\t        };\n\t    },\n\t    editName: function editName(e) {\n\t        this.setState({ queryName: e.target.value });\n\t    },\n\t    editPublic: function editPublic(e) {\n\t        this.setState({ shared: e.target.checked });\n\t    },\n\t    onSaveClicked: function onSaveClicked() {\n\t        // Should do validation before doing anything here.. ie query name is entered, doesn't already\n\t        // exist, there are fields selected..\n\t        if (this.props.onSaveClicked) {\n\t            this.props.onSaveClicked(this.state.queryName, this.state.shared);\n\t        }\n\t    },\n\t    onDismissClicked: function onDismissClicked() {\n\t        if (this.props.onDismissClicked) {\n\t            this.props.onDismissClicked();\n\t        }\n\t    },\n\t    render: function render() {\n\t        return React.createElement(\n\t            \"div\",\n\t            { className: \"modal show\" },\n\t            React.createElement(\n\t                \"div\",\n\t                { className: \"modal-dialog\" },\n\t                React.createElement(\n\t                    \"div\",\n\t                    { className: \"modal-content\" },\n\t                    React.createElement(\n\t                        \"div\",\n\t                        { className: \"modal-header\" },\n\t                        React.createElement(\n\t                            \"button\",\n\t                            { type: \"button\", className: \"close\", \"aria-label\": \"Close\", onClick: this.onDismissClicked },\n\t                            React.createElement(\n\t                                \"span\",\n\t                                { \"aria-hidden\": \"true\" },\n\t                                \"\"\n\t                            )\n\t                        ),\n\t                        React.createElement(\n\t                            \"h4\",\n\t                            { className: \"modal-title\", id: \"myModalLabel\" },\n\t                            \"Save Current Query\"\n\t                        )\n\t                    ),\n\t                    React.createElement(\n\t                        \"div\",\n\t                        { className: \"modal-body\" },\n\t                        React.createElement(\n\t                            \"p\",\n\t                            null,\n\t                            \"Enter the name you would like to save your query under here:\"\n\t                        ),\n\t                        React.createElement(\n\t                            \"div\",\n\t                            { className: \"input-group\" },\n\t                            \"Query Name: \",\n\t                            React.createElement(\"input\", { type: \"text\", className: \"form-control\", placeholder: \"My Query\", value: this.state.queryName, onChange: this.editName })\n\t                        ),\n\t                        React.createElement(\n\t                            \"p\",\n\t                            null,\n\t                            \"Make query a publicly shared query? \",\n\t                            React.createElement(\"input\", { type: \"checkbox\", checked: this.state.shared ? 'checked' : '', onChange: this.editPublic, \"aria-label\": \"Shared Query\" })\n\t                        )\n\t                    ),\n\t                    React.createElement(\n\t                        \"div\",\n\t                        { className: \"modal-footer\" },\n\t                        React.createElement(\n\t                            \"button\",\n\t                            { type: \"button\", className: \"btn btn-default\", onClick: this.onDismissClicked },\n\t                            \"Close\"\n\t                        ),\n\t                        React.createElement(\n\t                            \"button\",\n\t                            { type: \"button\", className: \"btn btn-primary\", onClick: this.onSaveClicked },\n\t                            \"Save changes\"\n\t                        )\n\t                    )\n\t                )\n\t            )\n\t        );\n\t    }\n\t});\n\t\n\t/*\n\t *  The following component is used for displaying the filter of a individual query in a tree\n\t *  like structure\n\t */\n\tvar ManageSavedQueryFilter = React.createClass({\n\t    displayName: \"ManageSavedQueryFilter\",\n\t\n\t    render: function render() {\n\t        var filterItem,\n\t            filter = this.props.filterItem;\n\t        if (filter.activeOperator) {\n\t            var logicOp = \"AND\",\n\t                children = filter.children.map(function (element, key) {\n\t                return React.createElement(ManageSavedQueryFilter, {\n\t                    filterItem: element\n\t                });\n\t            });\n\t            if (filter.activeOperator === 1) {\n\t                logicOp = \"OR\";\n\t            }\n\t            return React.createElement(\n\t                \"li\",\n\t                null,\n\t                React.createElement(\n\t                    \"span\",\n\t                    null,\n\t                    logicOp\n\t                ),\n\t                React.createElement(\n\t                    \"ul\",\n\t                    { className: \"savedQueryTree\" },\n\t                    children\n\t                )\n\t            );\n\t        } else {\n\t            filter = this.props.filterItem;\n\t            if (filter.instrument) {\n\t                var operator;\n\t                switch (filter.operator) {\n\t                    case \"equal\":\n\t                        operator = \"=\";\n\t                        break;\n\t                    case \"notEqual\":\n\t                        operator = \"!=\";\n\t                        break;\n\t                    case \"lessThanEqual\":\n\t                        operator = \"<=\";\n\t                        break;\n\t                    case \"greaterThanEqual\":\n\t                        operator = \">=\";\n\t                        break;\n\t                    default:\n\t                        operator = filter.operator;\n\t                        break;\n\t                }\n\t                filterItem = React.createElement(\n\t                    \"span\",\n\t                    null,\n\t                    filter.instrument,\n\t                    \",\",\n\t                    filter.field,\n\t                    \" \",\n\t                    operator,\n\t                    \" \",\n\t                    filter.value\n\t                );\n\t            } else {\n\t                filterItem = React.createElement(\n\t                    \"span\",\n\t                    null,\n\t                    filter.Field,\n\t                    \" \",\n\t                    filter.Operator,\n\t                    \" \",\n\t                    filter.Value\n\t                );\n\t            }\n\t        }\n\t        return React.createElement(\n\t            \"li\",\n\t            null,\n\t            filterItem\n\t        );\n\t    }\n\t});\n\t\n\t/*\n\t *  The following component is used for displaying the individual saved queries in the\n\t *  manage saved queries tab\n\t */\n\tvar ManageSavedQueryRow = React.createClass({\n\t    displayName: \"ManageSavedQueryRow\",\n\t\n\t    getDefaultProps: function getDefaultProps() {\n\t        return {\n\t            'Name': 'Unknown',\n\t            'Query': {\n\t                'Fields': []\n\t            }\n\t        };\n\t    },\n\t    render: function render() {\n\t        var fields = [];\n\t        var filters;\n\t        if (this.props.Query.Fields && Array.isArray(this.props.Query.Fields)) {\n\t            for (var i = 0; i < this.props.Query.Fields.length; i += 1) {\n\t                fields.push(React.createElement(\n\t                    \"li\",\n\t                    null,\n\t                    this.props.Query.Fields[i]\n\t                ));\n\t            }\n\t        } else if (this.props.Query.Fields) {\n\t            for (var instrument in this.props.Query.Fields) {\n\t                for (var field in this.props.Query.Fields[instrument]) {\n\t                    if (field === \"allVisits\") {\n\t                        continue;\n\t                    } else {\n\t                        fields.push(React.createElement(\n\t                            \"li\",\n\t                            null,\n\t                            instrument,\n\t                            \",\",\n\t                            field\n\t                        ));\n\t                    }\n\t                }\n\t            }\n\t        }\n\t\n\t        if (fields.length === 0) {\n\t            fields.push(React.createElement(\n\t                \"li\",\n\t                null,\n\t                \"No fields defined\"\n\t            ));\n\t        }\n\t\n\t        if (this.props.Query.Conditions) {\n\t            var operator, filter;\n\t            if (this.props.Query.Conditions.activeOperator) {\n\t                if (this.props.Query.Conditions.children) {\n\t                    if (this.props.Query.Conditions.activeOperator === 0) {\n\t                        operator = React.createElement(\n\t                            \"span\",\n\t                            null,\n\t                            \"AND\"\n\t                        );\n\t                    } else {\n\t                        operator = React.createElement(\n\t                            \"span\",\n\t                            null,\n\t                            \"OR\"\n\t                        );\n\t                    }\n\t                    filter = this.props.Query.Conditions.children.map(function (element, key) {\n\t                        return React.createElement(ManageSavedQueryFilter, {\n\t                            filterItem: element\n\t                        });\n\t                    });\n\t                } else {\n\t                    operator = React.createElement(\n\t                        \"span\",\n\t                        null,\n\t                        \"No filters defined\"\n\t                    );\n\t                }\n\t            } else {\n\t                if (this.props.Query.Conditions.length === 0) {\n\t                    operator = React.createElement(\n\t                        \"span\",\n\t                        null,\n\t                        \"No filters defined\"\n\t                    );\n\t                } else {\n\t                    operator = React.createElement(\n\t                        \"span\",\n\t                        null,\n\t                        \"AND\"\n\t                    );\n\t                    filter = this.props.Query.Conditions.map(function (element, key) {\n\t                        return React.createElement(ManageSavedQueryFilter, {\n\t                            filterItem: element\n\t                        });\n\t                    });\n\t                }\n\t            }\n\t            filters = React.createElement(\n\t                \"div\",\n\t                { className: \"tree\" },\n\t                React.createElement(\n\t                    \"ul\",\n\t                    { className: \"firstUL savedQueryTree\" },\n\t                    React.createElement(\n\t                        \"li\",\n\t                        null,\n\t                        operator,\n\t                        React.createElement(\n\t                            \"ul\",\n\t                            { className: \"savedQueryTree\" },\n\t                            filter\n\t                        )\n\t                    )\n\t                )\n\t            );\n\t        }\n\t        if (!filters) {\n\t            filters = React.createElement(\n\t                \"strong\",\n\t                null,\n\t                \"No filters defined\"\n\t            );\n\t        }\n\t        return React.createElement(\n\t            \"tr\",\n\t            null,\n\t            React.createElement(\n\t                \"td\",\n\t                null,\n\t                this.props.Name\n\t            ),\n\t            React.createElement(\n\t                \"td\",\n\t                null,\n\t                React.createElement(\n\t                    \"ul\",\n\t                    null,\n\t                    fields\n\t                )\n\t            ),\n\t            React.createElement(\n\t                \"td\",\n\t                null,\n\t                filters\n\t            )\n\t        );\n\t    }\n\t});\n\t\n\t/*\n\t *  The following component is used for displaying the manage saved queries tab content\n\t */\n\tvar ManageSavedQueriesTabPane = React.createClass({\n\t    displayName: \"ManageSavedQueriesTabPane\",\n\t\n\t    dismissDialog: function dismissDialog() {\n\t        this.setState({ 'savePrompt': false });\n\t    },\n\t    getInitialState: function getInitialState() {\n\t        return {\n\t            'savePrompt': false,\n\t            'queriesLoaded': false,\n\t            'queries': {}\n\t        };\n\t    },\n\t    saveQuery: function saveQuery() {\n\t        this.setState({ 'savePrompt': true });\n\t    },\n\t    savedQuery: function savedQuery(name, shared) {\n\t        if (this.props.onSaveQuery) {\n\t            this.props.onSaveQuery(name, shared, \"false\");\n\t        }\n\t        this.setState({ 'savePrompt': false });\n\t    },\n\t    getDefaultProps: function getDefaultProps() {\n\t        return {\n\t            userQueries: [],\n\t            globalQueries: [],\n\t            queriesLoaded: false,\n\t            queryDetails: {}\n\t        };\n\t    },\n\t    render: function render() {\n\t        var queryRows = [];\n\t        if (this.props.queriesLoaded) {\n\t            for (var i = 0; i < this.props.userQueries.length; i += 1) {\n\t                var query = this.props.queryDetails[this.props.userQueries[i]];\n\t                var name = \"Unnamed Query: \" + this.props.userQueries[i];\n\t                if (query.Meta.name) {\n\t                    name = query.Meta.name;\n\t                }\n\t\n\t                queryRows.push(React.createElement(ManageSavedQueryRow, { Name: name, Query: query }));\n\t            }\n\t        } else {\n\t            queryRows.push(React.createElement(\n\t                \"tr\",\n\t                null,\n\t                React.createElement(\n\t                    \"td\",\n\t                    { colSpan: \"3\" },\n\t                    \"Loading saved query details\"\n\t                )\n\t            ));\n\t        }\n\t\n\t        var savePrompt = '';\n\t        if (this.state.savePrompt) {\n\t            savePrompt = React.createElement(SaveQueryDialog, { onDismissClicked: this.dismissDialog, onSaveClicked: this.savedQuery });\n\t        }\n\t        var content = React.createElement(\n\t            \"div\",\n\t            null,\n\t            React.createElement(\n\t                \"h2\",\n\t                null,\n\t                \"Your currently saved queries\"\n\t            ),\n\t            React.createElement(\n\t                \"button\",\n\t                { onClick: this.saveQuery },\n\t                \"Save Current Query\"\n\t            ),\n\t            React.createElement(\n\t                \"table\",\n\t                { className: \"table table-hover table-primary table-bordered colm-freeze\" },\n\t                React.createElement(\n\t                    \"thead\",\n\t                    null,\n\t                    React.createElement(\n\t                        \"tr\",\n\t                        { className: \"info\" },\n\t                        React.createElement(\n\t                            \"th\",\n\t                            null,\n\t                            \"Query Name\"\n\t                        ),\n\t                        React.createElement(\n\t                            \"th\",\n\t                            null,\n\t                            \"Fields\"\n\t                        ),\n\t                        React.createElement(\n\t                            \"th\",\n\t                            null,\n\t                            \"Filters\"\n\t                        )\n\t                    )\n\t                ),\n\t                React.createElement(\n\t                    \"tbody\",\n\t                    null,\n\t                    queryRows\n\t                )\n\t            ),\n\t            savePrompt\n\t        );\n\t        return React.createElement(\n\t            TabPane,\n\t            { TabId: this.props.TabId, Loading: this.props.Loading },\n\t            content\n\t        );\n\t    }\n\t});\n\t\n\twindow.Loading = Loading;\n\twindow.TabPane = TabPane;\n\twindow.InfoTabPane = InfoTabPane;\n\twindow.FieldSelectTabPane = FieldSelectTabPane;\n\twindow.FilterSelectTabPane = FilterSelectTabPane;\n\twindow.ViewDataTabPane = ViewDataTabPane;\n\twindow.ScatterplotGraph = ScatterplotGraph;\n\twindow.StatsVisualizationTabPane = StatsVisualizationTabPane;\n\twindow.SaveQueryDialog = SaveQueryDialog;\n\twindow.ManageSavedQueryFilter = ManageSavedQueryFilter;\n\twindow.ManageSavedQueryRow = ManageSavedQueryRow;\n\twindow.ManageSavedQueriesTabPane = ManageSavedQueriesTabPane;\n\t\n\texports.default = {\n\t    Loading: Loading,\n\t    TabPane: TabPane,\n\t    InfoTabPane: InfoTabPane,\n\t    FieldSelectTabPane: FieldSelectTabPane,\n\t    FilterSelectTabPane: FilterSelectTabPane,\n\t    ViewDataTabPane: ViewDataTabPane,\n\t    ScatterplotGraph: ScatterplotGraph,\n\t    StatsVisualizationTabPane: StatsVisualizationTabPane,\n\t    SaveQueryDialog: SaveQueryDialog,\n\t    ManageSavedQueryFilter: ManageSavedQueryFilter,\n\t    ManageSavedQueryRow: ManageSavedQueryRow,\n\t    ManageSavedQueriesTabPane: ManageSavedQueriesTabPane\n\t};\n\n/***/ }\n/******/ ]);\n\n\n// WEBPACK FOOTER //\n// modules/dataquery/js/react.tabs.js"," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId])\n \t\t\treturn installedModules[moduleId].exports;\n\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\texports: {},\n \t\t\tid: moduleId,\n \t\t\tloaded: false\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.loaded = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(0);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap 8852a649345d4aba9697","/**\n *  The following file contains the components used for displaying the tab content\n *\n *  @author   Dave MacFarlane <david.macfarlane2@mcgill.ca>\n *  @author   Jordan Stirling <jstirling91@gmail.com>\n *  @license  http://www.gnu.org/licenses/gpl-3.0.txt GPLv3\n *  @link     https://github.com/mohadesz/Loris-Trunk\n */\n\n/*\n *  The following componet is used to indicate to users that their data is currently\n *  loading\n */\nvar Loading = React.createClass({\n    render: function() {\n        return (\n            <div className=\"row\">\n                <h3 className=\"text-center loading-header\">\n                    We are currently working hard to load your data. Please be patient.\n                </h3>\n                <div className=\"spinner\">\n                    <div className=\"bounce1\"></div>\n                    <div className=\"bounce2\"></div>\n                    <div className=\"bounce3\"></div>\n                </div>\n            </div>\n        );\n    }\n})\n\n/*\n *  The following component is the base component for displaying the tab's contnet\n */\nvar TabPane = React.createClass({\n    mixins: [React.addons.PureRenderMixin],\n    render: function() {\n        var classList = \"tab-pane\";\n        if(this.props.Active) {\n            classList += \" active\"\n        }\n        if(this.props.Loading) {\n            return (\n                <div className={classList} id={this.props.TabId}>\n                    <Loading />\n                </div>\n            )\n        }\n        return (\n            <div className={classList} id={this.props.TabId}>\n                <h1>{this.props.Title}</h1>\n                {this.props.children}\n            </div>\n        );\n    }\n});\n\n/*\n *  The following component is used for displaying the info tab content\n */\nvar InfoTabPane = React.createClass({\n    mixins: [React.addons.PureRenderMixin],\n    render: function() {\n        return <TabPane Title=\"Welcome to the Data Query Tool\"\n                    TabId={this.props.TabId} Active={true} Loading={this.props.Loading}>\n                        <p>Data was last updated on {this.props.UpdatedTime}.</p>\n                        <p>Please define or use your query by using the following tabs.</p>\n                            <dl>\n                            <dt>Define Fields</dt>\n                            <dd>Define the fields to be added to your query here.</dd>\n                            <dt>Define Filters</dt>\n                            <dd>Define the criteria to filter the data for your query here.</dd>\n                            <dt>View Data</dt>\n                            <dd>See the results of your query.</dd>\n                            <dt>Statistical Analysis</dt>\n                            <dd>Visualize or see basic statistical measures from your query here.</dd>\n                            <dt>Load Saved Query</dt>\n                            <dd>Load a previously saved query (by name) by selecting from this menu.</dd>\n                            <dt>Manage Saved Queries</dt>\n                            <dd>Either save your current query or see the criteria of previously saved quer  ies here.</dd>\n                          </dl>\n                </TabPane>\n    }\n});\n\n/*\n *  The following component is used for displaying the field select tab content\n */\nvar FieldSelectTabPane = React.createClass({\n    render: function() {\n        return <TabPane TabId={this.props.TabId} Loading={this.props.Loading}>\n                    <FieldSelector title=\"Fields\"\n                        items={this.props.categories}\n                        onFieldChange={this.props.onFieldChange}\n                        selectedFields={this.props.selectedFields}\n                        Visits={this.props.Visits}\n                        fieldVisitSelect = {this.props.fieldVisitSelect}\n                    />\n            </TabPane>\n    }\n\n});\n\n/*\n *  The following component is used for displaying the filter builder tab content\n */\nvar FilterSelectTabPane = React.createClass({\n    render: function() {\n        return (\n            <TabPane TabId={this.props.TabId} Loading={this.props.Loading}>\n                <FilterBuilder items={this.props.categories}\n                               updateFilter={this.props.updateFilter}\n                               filter={this.props.filter}\n                               Visits={this.props.Visits}\n                />\n            </TabPane>\n        );\n    }\n});\n\n/*\n *  The following component is used for displaying the view data tab content\n */\nvar ViewDataTabPane = React.createClass({\n    getInitialState: function() {\n        return { 'sessions' : [] }\n    },\n    runQuery: function() {\n        // Wrapper function to run the current query\n        if(this.props.onRunQueryClicked) {\n            this.props.onRunQueryClicked(this.props.Fields, this.props.Sessions);\n        }\n    },\n    changeDataDisplay: function(displayID) {\n        // Wrapper function to change the data display type\n        this.props.changeDataDisplay(displayID);\n    },\n    getOrCreateProgressElement: function(id) {\n        // Helper function to display the progress of downloading the downloadable\n        // fields into a ZIP folder\n        var element = document.getElementById(id),\n            progress;\n\n        if (element) {\n            return element;\n        }\n\n        progress = document.getElementById(\"progress\");\n\n        element = document.createElement(\"div\");\n        element.setAttribute(\"id\", id);\n        progress.appendChild(element);\n        return element;\n    },\n    getOrCreateDownloadLink: function(fileName, type) {\n        // Helper function to create and click a downloadable link to download the\n        // downloadable fields into a ZIP folder\n        var element = document.getElementById(\"DownloadLink\" + fileName),\n            parentEl,\n            el2;\n\n        if (element) {\n            return element;\n        }\n\n\n        parentEl = document.getElementById(\"downloadlinksUL\");\n\n        element = document.createElement(\"a\");\n        element.download = fileName;\n        element.type = type;\n        element.textContent = \"Zip file: \" + fileName;\n        element.setAttribute(\"id\", \"DownloadLink\" + fileName);\n        el2 = document.createElement(\"li\");\n        el2.appendChild(element);\n        parentEl.appendChild(el2);\n        return element;\n    },\n    downloadData: function() {\n        // Download the downloadable fields into a ZIP folder\n        // Makes use of a web worker to format and download the data\n        var zip = new JSZip(),\n            i = 0,\n            FileList = this.props.FileData,\n            CompleteMask = new Array(FileList.length),\n            saveworker,\n            dataURLs = [],\n            that = this,\n            multiLinkHandler = function(buffer) { return function(ce) {\n                var downloadLink = document.getElementById(\"DownloadLink\"),\n                    dv = new DataView(buffer),\n                    blb;\n\n                    ce.preventDefault();\n                    blb = new Blob([dv], { type : \"application/zip\" });\n\n                    downloadLink.href = window.URL.createObjectURL(blb);\n                    downloadLink.download = this.download;\n                    downloadLink.type = \"application/zip\";\n                    downloadLink.click();\n\n                    window.URL.revokeObjectURL(downloadLink.href);\n                }\n            };\n\n        // Does this work if we hold a global reference instead of a closure\n        // to the object URL?\n        window.dataBlobs = [];\n\n        if(FileList.length < 100 || confirm(\"You are trying to download more than 100 files. This may be slow or crash your web browser.\\n\\nYou may want to consider splitting your query into more, smaller queries by defining more restrictive filters.\\n\\nPress OK to continue with attempting to download current files or cancel to abort.\" )) {\n            saveworker = new Worker(loris.BaseURL + '/GetJS.php?Module=dataquery&file=workers/savezip.js');\n            saveworker.addEventListener('message', function (e) {\n                var link,\n                    progress,\n                    FileName,\n                    NewFileName,\n                    downloadLinks,\n                    i;\n                if (e.data.cmd === 'SaveFile') {\n                    progress = that.getOrCreateProgressElement(\"download_progress\");\n                    //progress.textContent = \"Downloaded files\";\n                    //hold a reference to the blob so that chrome doesn't release it. This shouldn't\n                    //be required.\n                    window.dataBlobs[e.data.FileNo - 1] = new Blob([e.data.buffer], { type : \"application/zip\" });;\n                    dataURLs[e.data.FileNo - 1] = window.URL.createObjectURL(window.dataBlobs[e.data.FileNo - 1]);\n\n                    link = that.getOrCreateDownloadLink(e.data.Filename, \"application/zip\");\n                    link.href = dataURLs[e.data.FileNo - 1];\n                    //link.onclick = multiLinkHandler(e.data.buffer);\n                    //link.href = \"#\";\n                    progress = that.getOrCreateProgressElement(\"zip_progress\");\n                    progress.textContent = \"\";\n\n                } else if (e.data.cmd === 'Progress') {\n                    progress = that.getOrCreateProgressElement(\"download_progress\");\n                    progress.innerHTML = \"Downloading files: <progress value=\\\"\" + e.data.Complete + \"\\\" max=\\\"\" + e.data.Total + \"\\\">\" + e.data.Complete + \" out of \" + e.data.Total + \"</progress>\";\n                } else if (e.data.cmd === 'Finished') {\n                    if (dataURLs.length === 1) {\n                        $(\"#downloadlinksUL li a\")[0].click();\n                    }\n\n                    if (dataURLs.length > 1) {\n                        progress = document.getElementById(\"downloadlinks\");\n                        progress.style.display = \"initial\";\n\n                        downloadLinks = $(\"#downloadlinksUL li a\");\n                        for (i = 0; i < dataURLs.length; i += 1) {\n                            FileName = downloadLinks[i].id.slice(\"DownloadLinkFiles-\".length, -4);\n                            NewFileName = \"files-\" + FileName + \"of\" + e.data.NumFiles + \".zip\";\n                            downloadLinks[i].download = NewFileName;\n                            downloadLinks[i].href = dataURLs[i];\n                            downloadLinks[i].textContent = \"Zip file: \" + NewFileName;\n                        }\n                    }\n                    progress = that.getOrCreateProgressElement(\"download_progress\");\n                    progress.textContent = \"Finished generating zip files\";\n                    //this.terminate();\n\n                } else if (e.data.cmd === 'CreatingZip') {\n                    progress = that.getOrCreateProgressElement(\"zip_progress\");\n                    progress.textContent = \"Creating a zip file with current batch of downloaded files. Process may be slow before proceeding.\";\n                }\n\n            });\n\n            saveworker.postMessage({ Files: FileList, BaseURL: loris.BaseURL });\n        }\n    },\n    render: function() {\n        var downloadData;\n        var buttons = (\n            <div className=\"row\">\n                <div className=\"commands col-xs-12 form-group\">\n                    <button className=\"btn btn-primary\" onClick={this.runQuery}>Run Query</button>\n                    <button className=\"btn btn-primary\" onClick={this.downloadData}>Download Data as ZIP</button>\n                </div>\n                <div id=\"progress\" className=\"col-xs-12\"></div>\n                <div id=\"downloadlinks\" className=\"col-xs-12\">\n                    <ul id=\"downloadlinksUL\"></ul>\n                </div>\n            </div>\n            );\n        var criteria = [];\n        for (var el in  this.props.Criteria) {\n            if(!this.props.Criteria.hasOwnProperty(el)) {\n                continue;\n            }\n            var item = this.props.Criteria[el];\n            if(item === undefined) {\n                criteria.push(\n                    <div className=\"alert alert-warning\" role=\"alert\">\n                        {el} has been added as a filter but not had criteria defined.\n                    </div>\n                );\n            } else {\n                criteria.push(\n                    <div className=\"row\">\n                        <span className=\"col-sm-3\">{el}</span>\n                        <span className=\"col-sm-3\">{item.operator}</span>\n                        <span className=\"col-sm-3\">{item.value}</span>\n                    </div>\n                    );\n            }\n\n        }\n        return <TabPane TabId={this.props.TabId} Loading={this.props.Loading}>\n                    <h2>Query Criteria</h2>{criteria} {buttons}\n                    <div className='form-group form-horizontal row'>\n                        <label for=\"selected-input\" className=\"col-sm-1 control-label\">Data</label>\n                        <div className=\"col-sm-4\">\n                            <div className=\"btn-group\">\n                                <button id=\"selected-input\" type=\"button\" className=\"btn btn-default dropdown-toggle\" data-toggle=\"dropdown\">\n                                    <span id=\"search_concept\">{this.props.displayType}</span>\n                                    <span className=\"caret\"></span>\n                                </button>\n                                <ul className=\"dropdown-menu\" role=\"menu\">\n                                    <li onClick={this.changeDataDisplay.bind(this, 0)}>\n                                        <div className=\"col-sm-12\">\n                                            <h5 className=\"\">Cross-sectional</h5>\n                                        </div>\n                                    </li>\n                                    <li onClick={this.changeDataDisplay.bind(this, 1)}>\n                                        <div className=\"col-sm-12\">\n                                            <h5 className=\"\">Longitudinal</h5>\n                                        </div>\n                                    </li>\n                                </ul>\n                            </div>\n                        </div>\n                    </div>\n                    <StaticDataTable\n                        Headers={this.props.RowHeaders}\n                        RowNumLabel=\"Identifiers\"\n                        Data={this.props.Data}\n                        RowNameMap={this.props.RowInfo}\n                    />\n               </TabPane>\n    }\n});\n\n/*\n *  The following component is used for displaying the scatterplot graph\n *  in the stats tab using flot. The following code is a modification of\n *  code used in the couchApp implementation of the DQT\n */\nvar ScatterplotGraph = React.createClass({\n    lsFit: function (data) {\n        var i = 0,\n            means = jStat(data).mean(),\n            xmean = means[0],\n            ymean = means[1],\n            interim = 0,\n            numerator  = 0,\n            denominator = 0,\n            slope,\n            xi,\n            yi;\n\n            for (i = 0; i < data.length; i += 1) {\n                xi = data[i][0];\n                yi = data[i][1];\n                numerator += (xi - xmean) * (yi - ymean);\n                denominator += ((xi - xmean) * (xi - xmean));\n            }\n\n            slope = numerator / denominator;\n\n            return [(ymean - slope * xmean), slope];\n    },\n    minmaxx: function (arr) {\n        var i, min, max;\n\n        for (i = 0; i < arr.length; i += 1) {\n            if (arr[i][0] < min || min === undefined) {\n                if (arr[i][0] !== undefined && arr[i][0] !== null) {\n                    min = arr[i][0];\n                }\n            }\n            if (arr[i][0] > max || max === undefined) {\n                if (arr[i][0] !== undefined && arr[i][0] !== null) {\n                    max = arr[i][0];\n                }\n            }\n        }\n        return [min, max];\n    },\n    updateScatterplot: function() {\n        var xaxis = document.getElementById(\"scatter-xaxis\").value,\n            yaxis = document.getElementById(\"scatter-yaxis\").value,\n            grouping = document.getElementById(\"scatter-group\").value,\n            data = this.props.Data,\n            points = [],\n            min,\n            max,\n            field1 = [],\n            field2 = [],\n            grouped_points = {},\n            i = 0,\n            group_label,\n            minmax,\n            LS,\n            slope,\n            start,\n            plots = [],\n            label,\n            plotY = function (x) { return [x, start + (slope * x)]; },\n            dataset;\n\n        for (i = 0; i < data.length; i += 1) {\n            points.push([data[i][xaxis], data[i][yaxis]]);\n            field1.push(data[i][xaxis]);\n            field2.push(data[i][yaxis]);\n            if (grouping) {\n                group_label = data[i][grouping];\n                if (!(grouped_points[group_label] instanceof Array)) {\n                    grouped_points[group_label] = [];\n                }\n                grouped_points[group_label].push([data[i][xaxis], data[i][yaxis]]);\n            }\n        }\n\n\n\n        if (grouping === 'ungrouped') {\n            minmax = this.minmaxx(points);\n            min = minmax[0];\n            max = minmax[1];\n            LS = this.lsFit(points);\n            slope = LS[1];\n            start = LS[0];\n\n            $.plot(\"#scatterplotdiv\", [{\n\n                label: 'Data Points',\n                data: points,\n                points: { show: true }\n            }, // Least Squares Fit\n                {\n                    label: 'Least Squares Fit',\n                    data: jStat.seq(min, max, 3, plotY),\n                    lines: { show: true }\n                }], {});\n        } else {\n            minmax = this.minmaxx(points);\n            min = minmax[0];\n            max = minmax[1];\n            i = 0;\n\n            for (dataset in grouped_points) {\n                if (grouped_points.hasOwnProperty(dataset)) {\n                    label = document.getElementById(\"scatter-group\").selectedOptions.item(0).textContent + \" = \" + dataset;\n                    plots.push({\n                        color: i,\n                        label: dataset,\n                        data: grouped_points[dataset],\n                        points: { show: true }\n                    });\n                    LS = this.lsFit(grouped_points[dataset]);\n                    //LS = lsFit(grouped_points[dataset].convertNumbers());\n                    slope = LS[1];\n                    start = LS[0];\n                    plots.push({\n                        color: i,\n                        // label: \"LS Fit for \" + dataset,\n                        data: jStat.seq(min, max, 3, plotY),\n                        lines: { show: true }\n                    });\n                    i += 1;\n                }\n            }\n            $.plot(\"#scatterplotdiv\", plots, {});\n        }\n\n        $(\"#correlationtbl tbody\").children().remove();\n        $(\"#correlationtbl tbody\").append(\"<tr><td>\" + jStat.covariance(field1, field2) + \"</td><td>\" + jStat.corrcoeff(field1, field2) + \"</td></tr>\");\n    },\n    render: function() {\n        var options = this.props.Fields.map(function(element, key){\n                console.log(element);\n                return (\n                    <option value={key}>\n                        {element}\n                    </option>\n                );\n            }),\n            scatterStyle = {\n                width: \"500px\",\n                height: \"500px\"\n            };\n        return (\n            <div>\n                <h2>Scatterplot</h2>\n\n                <div className=\"col-xs-4 col-md-3\">\n                    Column for X Axis\n                </div>\n                <div className=\"col-xs-8 col-md-3\">\n                    <select id=\"scatter-xaxis\" onChange={this.updateScatterplot}>\n                        <option>None</option>\n                        {options}\n                    </select>\n                </div>\n\n                <div className=\"col-xs-4 col-md-3\">\n                    Column for Y Axis\n                </div>\n                <div className=\"col-xs-8 col-md-3\">\n                    <select id=\"scatter-yaxis\" onChange={this.updateScatterplot}>\n                        <option>None</option>\n                        {options}\n                    </select>\n                </div>\n\n                <div className=\"col-xs-4 col-md-3\">\n                    Group by column\n                </div>\n                <div className=\"col-xs-8 col-md-3\">\n                    <select id=\"scatter-group\" onChange={this.updateScatterplot}>\n                        <option>None</option>\n                        {options}\n                    </select>\n                </div>\n                <h3>Scatterplot</h3>\n                <div id=\"scatterplotdiv\" style={scatterStyle}></div>\n                <h3>Statistics</h3>\n                <table id=\"correlationtbl\">\n                    <thead>\n                        <tr>\n                            <th>Covariance</th>\n                            <th>Correlation Coefficient</th>\n                        </tr>\n                    </thead>\n                    <tbody>\n                    </tbody>\n                </table>\n            </div>\n        );\n    }\n});\n\n/*\n *  The following component is used for displaying the stats tab content\n */\nvar StatsVisualizationTabPane = React.createClass({\n    getDefaultProps: function() {\n        return {\n            'Data' : []\n        };\n    },\n    getInitialState: function() {\n        return {\n            'displayed': false\n        }\n    },\n    render: function() {\n        // if(this.state.displayed === false) {\n        //     var content = <div>Statistics not yet calculated.</div>;\n        //     // return <TabPane content={content} TabId={this.props.TabId} />;\n        // } else \n        if(this.props.Data.length === 0) {\n            var content = <div>Could not calculate stats, query not run</div>;\n            // return <TabPane content={content} TabId={this.props.TabId} />;\n        } else {\n            var stats = jStat(this.props.Data),\n                min = stats.min(),\n                max = stats.max(),\n                stddev = stats.stdev(),\n                mean = stats.mean(),\n                meandev = stats.meandev(),\n                meansqerr = stats.meansqerr(),\n                quartiles = stats.quartiles(),\n                rows = [];\n\n\n            for(var i = 0; i < this.props.Fields.length; i += 1) {\n                rows.push(<tr>\n                    <td>{this.props.Fields[i]}</td>\n                    <td>{min[i]}</td>\n                    <td>{max[i]}</td>\n                    <td>{stddev[i]}</td>\n                    <td>{mean[i]}</td>\n                    <td>{meandev[i]}</td>\n                    <td>{meansqerr[i]}</td>\n                    <td>{quartiles[i][0]}</td>\n                    <td>{quartiles[i][1]}</td>\n                    <td>{quartiles[i][2]}</td>\n                </tr>);\n            }\n\n            var statsTable = (\n                <table className=\"table table-hover table-primary table-bordered colm-freeze\">\n                    <thead>\n                        <tr className=\"info\">\n                            <th>Measure</th>\n                            <th>Min</th>\n                            <th>Max</th>\n                            <th>Standard Deviation</th>\n                            <th>Mean</th>\n                            <th>Mean Deviation</th>\n                            <th>Mean Squared Error</th>\n                            <th>First Quartile</th>\n                            <th>Second Quartile</th>\n                            <th>Third Quartile</th>\n                        </tr>\n                    </thead>\n                    <tbody>\n                        {rows}\n                    </tbody>\n                </table>\n            );\n\n            var content = (\n                <div>\n                    <h2>Basic Statistics</h2>\n                    {statsTable}\n\n                    <ScatterplotGraph\n                        Fields={this.props.Fields}\n                        Data={this.props.Data}\n                    />\n                </div>\n            );\n        }\n        return (\n            <TabPane TabId={this.props.TabId} Loading={this.props.Loading}>\n                {content}\n            </TabPane>\n        );\n    }\n});\n\n/*\n *  The following component is used for displaying a popout dialog for saving the current\n *  query\n */\nvar SaveQueryDialog = React.createClass({\n    getInitialState: function() {\n        return {\n            'queryName' : '',\n            'shared' : false\n        };\n    },\n    editName: function(e) {\n        this.setState({ queryName : e.target.value });\n    },\n    editPublic: function(e) {\n        this.setState({ shared : e.target.checked });\n    },\n    onSaveClicked: function() {\n        // Should do validation before doing anything here.. ie query name is entered, doesn't already\n        // exist, there are fields selected..\n        if(this.props.onSaveClicked) {\n            this.props.onSaveClicked(this.state.queryName, this.state.shared);\n        }\n    },\n    onDismissClicked: function() {\n        if(this.props.onDismissClicked) {\n            this.props.onDismissClicked();\n        }\n    },\n    render: function() {\n        return (\n            <div className=\"modal show\">\n                <div className=\"modal-dialog\">\n                    <div className=\"modal-content\">\n                        <div className=\"modal-header\">\n                            <button type=\"button\" className=\"close\" aria-label=\"Close\" onClick={this.onDismissClicked}><span aria-hidden=\"true\">&times;</span></button>\n                            <h4 className=\"modal-title\" id=\"myModalLabel\">Save Current Query</h4>\n                        </div>\n                        <div className=\"modal-body\">\n                            <p>Enter the name you would like to save your query under here:</p>\n                            <div className=\"input-group\">\n                                Query Name: <input type=\"text\" className=\"form-control\" placeholder=\"My Query\" value={this.state.queryName} onChange={this.editName} />\n                            </div>\n                            <p>Make query a publicly shared query? <input type=\"checkbox\" checked={this.state.shared ? 'checked' : ''} onChange={this.editPublic} aria-label=\"Shared Query\" /></p>\n\n                        </div>\n                        <div className=\"modal-footer\">\n                            <button type=\"button\" className=\"btn btn-default\" onClick={this.onDismissClicked}>Close</button>\n                            <button type=\"button\" className=\"btn btn-primary\" onClick={this.onSaveClicked} >Save changes</button>\n                        </div>\n                    </div>\n                </div>\n            </div>\n            );\n    }\n});\n\n/*\n *  The following component is used for displaying the filter of a individual query in a tree\n *  like structure\n */\nvar ManageSavedQueryFilter = React.createClass({\n    render: function() {\n        var filterItem,\n            filter = this.props.filterItem;\n        if(filter.activeOperator) {\n            var logicOp = \"AND\",\n                children = filter.children.map(function(element, key){\n                    return <ManageSavedQueryFilter\n                                filterItem = {element}\n                            />\n                });\n            if(filter.activeOperator === 1) {\n                logicOp = \"OR\"\n            }\n            return (\n                <li>\n                    <span>{logicOp}</span>\n                    <ul className=\"savedQueryTree\">\n                        {children}\n                    </ul>\n                </li>\n            )\n        } else {\n            filter = this.props.filterItem;\n            if(filter.instrument) {\n                var operator;\n                switch(filter.operator) {\n                    case \"equal\":\n                        operator = \"=\";\n                        break;\n                    case \"notEqual\":\n                        operator = \"!=\";\n                        break;\n                    case \"lessThanEqual\":\n                        operator = \"<=\";\n                        break;\n                    case \"greaterThanEqual\":\n                        operator = \">=\";\n                        break;\n                    default:\n                        operator = filter.operator;\n                        break;\n                }\n                filterItem = (\n                    <span>{filter.instrument},{filter.field} {operator} {filter.value}</span>\n                )\n            } else {\n                filterItem = (\n                    <span>{filter.Field} {filter.Operator} {filter.Value}</span>\n                )\n            }\n        }\n        return (\n            <li>{filterItem}</li>\n        );\n    }\n});\n\n/*\n *  The following component is used for displaying the individual saved queries in the\n *  manage saved queries tab\n */\nvar ManageSavedQueryRow = React.createClass({\n    getDefaultProps: function() {\n        return {\n            'Name': 'Unknown',\n            'Query': {\n                'Fields': []\n            }\n        }\n    },\n    render: function() {\n        var fields = [];\n        var filters;\n        if(this.props.Query.Fields && Array.isArray(this.props.Query.Fields)) {\n            for(var i = 0; i < this.props.Query.Fields.length; i += 1) {\n                fields.push(<li>{this.props.Query.Fields[i]}</li>);\n            }\n        } else if(this.props.Query.Fields) {\n            for(var instrument in this.props.Query.Fields){\n                for(var field in this.props.Query.Fields[instrument]){\n                    if(field === \"allVisits\"){\n                        continue;\n                    } else {\n                        fields.push(<li>{instrument},{field}</li>);\n                    }\n                }\n            }\n        }\n\n        if(fields.length === 0) {\n            fields.push(<li>No fields defined</li>);\n        }\n\n        if(this.props.Query.Conditions) {\n            var operator,\n                filter;\n            if(this.props.Query.Conditions.activeOperator) {\n                if(this.props.Query.Conditions.children) {\n                    if(this.props.Query.Conditions.activeOperator === 0){\n                        operator = (<span>AND</span>)\n                    } else {\n                        operator = (<span>OR</span>)\n                    }\n                    filter = this.props.Query.Conditions.children.map(function(element, key){\n                        return <ManageSavedQueryFilter\n                                    filterItem = {element}\n                                />\n                    });\n                } else {\n                    operator = (<span>No filters defined</span>);\n                }\n            } else {\n                if(this.props.Query.Conditions.length === 0){\n                    operator = (<span>No filters defined</span>);\n                } else {\n                    operator = (<span>AND</span>);\n                    filter = this.props.Query.Conditions.map(function(element, key){\n                        return <ManageSavedQueryFilter\n                                    filterItem = {element}\n                                />\n                    });\n                }\n            }\n            filters = (\n                <div className=\"tree\">\n                    <ul className=\"firstUL savedQueryTree\">\n                        <li>\n                            {operator}\n                            <ul className=\"savedQueryTree\">\n                                {filter}\n                            </ul>\n                        </li>\n                    </ul>\n                </div>\n            );\n        }\n        if(!filters) {\n            filters = (<strong>No filters defined</strong>);\n        }\n        return (\n                    <tr>\n                        <td>{this.props.Name}</td>\n                        <td><ul>{fields}</ul></td>\n                        <td>{filters}</td>\n                    </tr>\n        );\n    }\n});\n\n/*\n *  The following component is used for displaying the manage saved queries tab content\n */\nvar ManageSavedQueriesTabPane = React.createClass({\n    dismissDialog: function() {\n        this.setState({ 'savePrompt' : false });\n    },\n    getInitialState: function() {\n        return {\n            'savePrompt' : false,\n            'queriesLoaded' : false,\n            'queries' : {}\n        };\n    },\n    saveQuery: function() {\n        this.setState({ 'savePrompt' : true });\n    },\n    savedQuery: function(name, shared) {\n        if(this.props.onSaveQuery) {\n            this.props.onSaveQuery(name, shared, \"false\");\n        }\n        this.setState({ 'savePrompt' : false });\n    },\n    getDefaultProps: function() {\n        return {\n            userQueries: [],\n            globalQueries: [],\n            queriesLoaded: false,\n            queryDetails: {}\n        };\n    },\n    render: function() {\n        var queryRows = [];\n        if(this.props.queriesLoaded) {\n            for(var i = 0; i < this.props.userQueries.length; i += 1) {\n                var query = this.props.queryDetails[this.props.userQueries[i]];\n                var name = \"Unnamed Query: \" + this.props.userQueries[i];\n                if(query.Meta.name) {\n                    name = query.Meta.name;\n                }\n\n                queryRows.push(\n                        <ManageSavedQueryRow Name={name} Query={query} />\n                    );\n\n            }\n        } else {\n            queryRows.push(\n                <tr>\n                    <td colSpan=\"3\">Loading saved query details</td>\n                </tr>\n            );\n        }\n\n        var savePrompt = '';\n        if(this.state.savePrompt) {\n            savePrompt = <SaveQueryDialog onDismissClicked={this.dismissDialog} onSaveClicked={this.savedQuery}/>;\n\n        }\n        var content = (\n            <div>\n                <h2>Your currently saved queries</h2>\n                <button onClick={this.saveQuery}>Save Current Query</button>\n                <table className=\"table table-hover table-primary table-bordered colm-freeze\">\n                    <thead>\n                        <tr className=\"info\">\n                            <th>Query Name</th>\n                            <th>Fields</th>\n                            <th>Filters</th>\n                        </tr>\n                    </thead>\n                    <tbody>\n                        {queryRows}\n                    </tbody>\n                </table>\n                {savePrompt}\n            </div>\n        );\n        return (\n            <TabPane TabId={this.props.TabId} Loading={this.props.Loading}>\n                {content}\n            </TabPane>\n        );\n    }\n});\n\nwindow.Loading = Loading;\nwindow.TabPane = TabPane;\nwindow.InfoTabPane = InfoTabPane;\nwindow.FieldSelectTabPane = FieldSelectTabPane;\nwindow.FilterSelectTabPane = FilterSelectTabPane;\nwindow.ViewDataTabPane = ViewDataTabPane;\nwindow.ScatterplotGraph = ScatterplotGraph;\nwindow.StatsVisualizationTabPane = StatsVisualizationTabPane;\nwindow.SaveQueryDialog = SaveQueryDialog;\nwindow.ManageSavedQueryFilter = ManageSavedQueryFilter;\nwindow.ManageSavedQueryRow = ManageSavedQueryRow;\nwindow.ManageSavedQueriesTabPane = ManageSavedQueriesTabPane;\n\nexport default {\n  Loading,\n  TabPane,\n  InfoTabPane,\n  FieldSelectTabPane,\n  FilterSelectTabPane,\n  ViewDataTabPane,\n  ScatterplotGraph,\n  StatsVisualizationTabPane,\n  SaveQueryDialog,\n  ManageSavedQueryFilter,\n  ManageSavedQueryRow,\n  ManageSavedQueriesTabPane\n};\n\n\n\n// WEBPACK FOOTER //\n// ./modules/dataquery/jsx/react.tabs.js"],"sourceRoot":""}